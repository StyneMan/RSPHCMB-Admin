{"ast":null,"code":"var _jsxFileName = \"/Users/macintosh/Developer/RSPHCMB-Admin/src/presentation/pages/dashboard/tabs/services/index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { Add } from \"@mui/icons-material\";\nimport { Typography } from \"@mui/material\";\nimport React from \"react\";\nimport { makeStyles } from \"@mui/styles\";\nimport Button from \"@mui/material/Button\";\nimport { CardActionArea, Divider } from \"@mui/material\";\nimport CustomDialog from \"../../../../components/dialogs/custom-dialog\";\nimport CustomDialog2 from \"../../../../components/dialogs/custom-dialog\";\nimport DeleteDialog from \"../../../../components/dialogs/custom-dialog\";\nimport Card from \"@mui/material/Card\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport IconButton from \"@mui/material/IconButton\";\nimport { Edit } from \"@mui/icons-material\";\nimport { Delete } from \"@mui/icons-material\";\nimport { Grid } from \"@mui/material\";\nimport Box from \"@mui/system/Box\";\nimport { onSnapshot, query, collection, db, doc, ref, deleteObject, storage, deleteDoc } from \"../../../../../data/firebase\";\nimport { useSnackbar } from \"notistack\";\nimport NewServiceForm from \"../../../../forms/services/new_service_form\";\nimport CloudOffIcon from \"@mui/icons-material/CloudOff\";\nimport { useHistory } from \"react-router-dom\";\nimport MUIRichTextEditor from \"mui-rte\";\nimport EditServiceForm from \"../../../../forms/services/edit_service_form\";\nimport FeaturedServiceForm from \"../../../../forms/services/set_featured_service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: 300,\n    width: \"100%\"\n  },\n  row: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  rowHeader: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    padding: 10\n  },\n  main: {\n    display: \"flex\",\n    flex: 1,\n    flexDirection: \"column\",\n    margin: \"auto\",\n    minHeight: 275,\n    minWidth: 320,\n    alignItems: \"center\"\n  },\n  cardMedia: {\n    height: 156,\n    width: \"100%\"\n  },\n  subRow: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"end\",\n    alignItems: \"center\"\n  },\n  lhsRow: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"start\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    height: 36,\n    width: 36\n  },\n  column: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"start\",\n    alignItems: \"start\",\n    padding: 4\n  }\n}));\n\nconst ServiceItemCard = props => {\n  _s();\n\n  const {\n    item,\n    type\n  } = props;\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [openDelete, setOpenDelete] = React.useState(false);\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const history = useHistory();\n\n  const deleteService = () => {\n    setOpenDelete(false);\n    const fileRef = ref(storage, type === \"featured\" ? \"services-featured/\" : \"services/\" + (item === null || item === void 0 ? void 0 : item.id));\n    deleteObject(fileRef).then(async () => {\n      // Images deleted now delete from firestore,\n      try {\n        await deleteDoc(doc(db, type === \"featured\" ? \"services-featured\" : \"services\", \"\" + (item === null || item === void 0 ? void 0 : item.id)));\n        enqueueSnackbar(`Item deleted successfully`, {\n          variant: \"success\"\n        });\n      } catch (error) {\n        console.log(\"ERR: Del: \", error);\n        enqueueSnackbar(`Item not deleted. Try again`, {\n          variant: \"error\"\n        });\n      }\n    }).catch(err => {});\n  };\n\n  const deleteBody = /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      gutterBottom: true,\n      children: `Are you sure you want to delete ${item === null || item === void 0 ? void 0 : item.title} ?`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.subRow,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        variant: \"contained\",\n        style: {\n          marginRight: 4\n        },\n        onClick: () => setOpenDelete(false),\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        variant: \"contained\",\n        color: \"error\",\n        onClick: deleteService,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CustomDialog, {\n      open: open,\n      title: \"Update Service\",\n      handleClose: () => setOpen(false),\n      bodyComponent: /*#__PURE__*/_jsxDEV(EditServiceForm, {\n        setOpen: setOpen,\n        img: item === null || item === void 0 ? void 0 : item.image,\n        title: item === null || item === void 0 ? void 0 : item.title,\n        id: item === null || item === void 0 ? void 0 : item.id,\n        body: item === null || item === void 0 ? void 0 : item.body,\n        summary: item === null || item === void 0 ? void 0 : item.summary,\n        type: type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteDialog, {\n      open: openDelete,\n      title: \"Delete Service\",\n      handleClose: () => setOpenDelete(false),\n      bodyComponent: deleteBody\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      elevation: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.rowHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.lhsRow,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            fontSize: 14,\n            children: item === null || item === void 0 ? void 0 : item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.subRow,\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            \"aria-label\": \"delete\",\n            color: \"primary\",\n            onClick: () => setOpen(true),\n            children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            \"aria-label\": \"delete\",\n            color: \"error\",\n            onClick: () => setOpenDelete(true),\n            children: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardActionArea // onClick={() =>\n      //   history.push({\n      //     pathname: \"/dashboard/service/\" + item?.id,\n      //     state: {\n      //       title: item?.title,\n      //       image: item?.image,\n      //       body: item?.body,\n      //       summary: item?.summary,\n      //       date: item?.createdAt,\n      //       id: item?.id,\n      //     },\n      //   })\n      // }\n      , {\n        children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n          image: item === null || item === void 0 ? void 0 : item.image,\n          className: classes.cardMedia\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), type === \"featured\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(MUIRichTextEditor, {\n            readOnly: true,\n            inlineToolbar: false,\n            style: {\n              width: \"100%\",\n              textAlign: \"center\"\n            },\n            defaultValue: item === null || item === void 0 ? void 0 : item.body,\n            toolbar: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this)\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(Typography, {\n          justifyContent: \"stretch\",\n          textAlign: \"left\",\n          gutterBottom: true,\n          fontSize: 12,\n          color: \"black\",\n          paddingLeft: 1,\n          paddingBottom: 1,\n          children: item === null || item === void 0 ? void 0 : item.summary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ServiceItemCard, \"yHpmcYqya93GUseNdDjQHgIzt4E=\", false, function () {\n  return [useStyles, useSnackbar, useHistory];\n});\n\n_c = ServiceItemCard;\n\nconst Services = () => {\n  _s2();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const [open, setOpen] = React.useState(false);\n  const [open2, setOpen2] = React.useState(false);\n  const [serviceList, setServiceList] = React.useState(null);\n  const [featured, setFeatured] = React.useState(null);\n  React.useEffect(() => {\n    const q = query(collection(db, \"services\"));\n    onSnapshot(q, querySnapshot => {\n      const service = [];\n      querySnapshot.forEach(doc => {\n        let dat = doc.data();\n        service === null || service === void 0 ? void 0 : service.push(dat);\n      });\n      setServiceList(service);\n    });\n    onSnapshot(doc(db, \"featured\", \"service\"), doc => {\n      // console.log(\"Current data: \", doc.data());\n      setFeatured(doc.data()); // dispatch(setPermSecData(doc.data()));\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(CustomDialog, {\n      open: open,\n      title: \"Add New Service\",\n      handleClose: () => setOpen(false),\n      bodyComponent: /*#__PURE__*/_jsxDEV(NewServiceForm, {\n        setOpen: setOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 24\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomDialog2, {\n      open: open2,\n      title: \"Set Featured Service\",\n      handleClose: () => setOpen2(false),\n      bodyComponent: /*#__PURE__*/_jsxDEV(FeaturedServiceForm, {\n        setOpen: setOpen2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 24\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.row,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.lhsRow,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"blue\",\n          fontSize: 21,\n          children: \"Services\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"end\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          sx: {\n            mx: 2\n          },\n          startIcon: /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 24\n          }, this),\n          color: \"primary\",\n          variant: \"contained\",\n          onClick: () => setOpen2(true),\n          children: \"Featured Service\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          startIcon: /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 24\n          }, this),\n          color: \"primary\",\n          variant: \"contained\",\n          onClick: () => setOpen(true),\n          children: \"Add Service\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"Featured Service\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ServiceItemCard, {\n          item: featured,\n          type: \"featured\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        children: \"Services\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), serviceList && /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: {\n          xs: 2,\n          md: 2\n        },\n        columns: {\n          xs: 4,\n          sm: 8,\n          md: 12\n        },\n        children: serviceList === null || serviceList === void 0 ? void 0 : serviceList.map((item, index) => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(ServiceItemCard, {\n            item: item,\n            type: \"service\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 11\n      }, this), (serviceList === null || serviceList === void 0 ? void 0 : serviceList.length) < 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.main,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: \"auto\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(CloudOffIcon, {\n            fontSize: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            children: \"No records found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Services, \"H8/19aH3EGzWidTDrJdpI9wraWc=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c2 = Services;\nexport default Services;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ServiceItemCard\");\n$RefreshReg$(_c2, \"Services\");","map":{"version":3,"sources":["/Users/macintosh/Developer/RSPHCMB-Admin/src/presentation/pages/dashboard/tabs/services/index.js"],"names":["Add","Typography","React","makeStyles","Button","CardActionArea","Divider","CustomDialog","CustomDialog2","DeleteDialog","Card","CardMedia","IconButton","Edit","Delete","Grid","Box","onSnapshot","query","collection","db","doc","ref","deleteObject","storage","deleteDoc","useSnackbar","NewServiceForm","CloudOffIcon","useHistory","MUIRichTextEditor","EditServiceForm","FeaturedServiceForm","useStyles","theme","root","height","width","row","display","flexDirection","justifyContent","alignItems","rowHeader","padding","main","flex","margin","minHeight","minWidth","cardMedia","subRow","lhsRow","avatar","column","ServiceItemCard","props","item","type","classes","open","setOpen","useState","openDelete","setOpenDelete","enqueueSnackbar","history","deleteService","fileRef","id","then","variant","error","console","log","catch","err","deleteBody","title","marginRight","image","body","summary","textAlign","Services","open2","setOpen2","serviceList","setServiceList","featured","setFeatured","useEffect","q","querySnapshot","service","forEach","dat","data","push","mx","xs","md","sm","map","index","length","marginTop"],"mappings":"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","sourcesContent":["import { Add } from \"@mui/icons-material\";\nimport { Typography } from \"@mui/material\";\nimport React from \"react\";\n\nimport { makeStyles } from \"@mui/styles\";\nimport Button from \"@mui/material/Button\";\nimport { CardActionArea, Divider } from \"@mui/material\";\nimport CustomDialog from \"../../../../components/dialogs/custom-dialog\";\nimport CustomDialog2 from \"../../../../components/dialogs/custom-dialog\";\nimport DeleteDialog from \"../../../../components/dialogs/custom-dialog\";\nimport Card from \"@mui/material/Card\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport IconButton from \"@mui/material/IconButton\";\nimport { Edit } from \"@mui/icons-material\";\nimport { Delete } from \"@mui/icons-material\";\nimport { Grid } from \"@mui/material\";\nimport Box from \"@mui/system/Box\";\nimport {\n  onSnapshot,\n  query,\n  collection,\n  db,\n  doc,\n  ref,\n  deleteObject,\n  storage,\n  deleteDoc,\n} from \"../../../../../data/firebase\";\nimport { useSnackbar } from \"notistack\";\nimport NewServiceForm from \"../../../../forms/services/new_service_form\";\nimport CloudOffIcon from \"@mui/icons-material/CloudOff\";\nimport { useHistory } from \"react-router-dom\";\nimport MUIRichTextEditor from \"mui-rte\";\nimport EditServiceForm from \"../../../../forms/services/edit_service_form\";\nimport FeaturedServiceForm from \"../../../../forms/services/set_featured_service\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: 300,\n    width: \"100%\",\n  },\n  row: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  rowHeader: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    padding: 10,\n  },\n  main: {\n    display: \"flex\",\n    flex: 1,\n    flexDirection: \"column\",\n    margin: \"auto\",\n    minHeight: 275,\n    minWidth: 320,\n    alignItems: \"center\",\n  },\n  cardMedia: {\n    height: 156,\n    width: \"100%\",\n  },\n  subRow: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"end\",\n    alignItems: \"center\",\n  },\n  lhsRow: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"start\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    height: 36,\n    width: 36,\n  },\n  column: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"start\",\n    alignItems: \"start\",\n    padding: 4,\n  },\n}));\n\nconst ServiceItemCard = (props) => {\n  const { item, type } = props;\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [openDelete, setOpenDelete] = React.useState(false);\n  const { enqueueSnackbar } = useSnackbar();\n  const history = useHistory();\n\n  const deleteService = () => {\n    setOpenDelete(false);\n    const fileRef = ref(\n      storage,\n      type === \"featured\" ? \"services-featured/\" : \"services/\" + item?.id\n    );\n\n    deleteObject(fileRef)\n      .then(async () => {\n        // Images deleted now delete from firestore,\n        try {\n          await deleteDoc(\n            doc(\n              db,\n              type === \"featured\" ? \"services-featured\" : \"services\",\n              \"\" + item?.id\n            )\n          );\n          enqueueSnackbar(`Item deleted successfully`, {\n            variant: \"success\",\n          });\n        } catch (error) {\n          console.log(\"ERR: Del: \", error);\n          enqueueSnackbar(`Item not deleted. Try again`, {\n            variant: \"error\",\n          });\n        }\n      })\n      .catch((err) => {});\n  };\n\n  const deleteBody = (\n    <div>\n      <Typography variant=\"body2\" gutterBottom>\n        {`Are you sure you want to delete ${item?.title} ?`}\n      </Typography>\n      <br />\n      <div className={classes.subRow}>\n        <Button\n          size=\"small\"\n          variant=\"contained\"\n          style={{ marginRight: 4 }}\n          onClick={() => setOpenDelete(false)}\n        >\n          Cancel\n        </Button>\n\n        <Button\n          size=\"small\"\n          variant=\"contained\"\n          color=\"error\"\n          onClick={deleteService}\n        >\n          Delete\n        </Button>\n      </div>\n    </div>\n  );\n\n  return (\n    <>\n      <CustomDialog\n        open={open}\n        title=\"Update Service\"\n        handleClose={() => setOpen(false)}\n        bodyComponent={\n          <EditServiceForm\n            setOpen={setOpen}\n            img={item?.image}\n            title={item?.title}\n            id={item?.id}\n            body={item?.body}\n            summary={item?.summary}\n            type={type}\n          />\n        }\n      />\n      <DeleteDialog\n        open={openDelete}\n        title=\"Delete Service\"\n        handleClose={() => setOpenDelete(false)}\n        bodyComponent={deleteBody}\n      />\n      <Card elevation={3} className={classes.root}>\n        <div className={classes.rowHeader}>\n          <div className={classes.lhsRow}>\n            <Typography variant=\"body2\" fontSize={14}>\n              {item?.title}\n            </Typography>\n          </div>\n          <div className={classes.subRow}>\n            <IconButton\n              aria-label=\"delete\"\n              color=\"primary\"\n              onClick={() => setOpen(true)}\n            >\n              <Edit />\n            </IconButton>\n            <IconButton\n              aria-label=\"delete\"\n              color=\"error\"\n              onClick={() => setOpenDelete(true)}\n            >\n              <Delete />\n            </IconButton>\n          </div>\n        </div>\n        <CardActionArea\n        // onClick={() =>\n        //   history.push({\n        //     pathname: \"/dashboard/service/\" + item?.id,\n        //     state: {\n        //       title: item?.title,\n        //       image: item?.image,\n        //       body: item?.body,\n        //       summary: item?.summary,\n        //       date: item?.createdAt,\n        //       id: item?.id,\n        //     },\n        //   })\n        // }\n        >\n          <CardMedia image={item?.image} className={classes.cardMedia} />\n          <Divider />\n          {/* <div className={classes.row}>\n            <Typography\n              fontSize={16}\n              color=\"black\"\n              paddingLeft={1}\n              textAlign=\"start\"\n              fontWeight=\"bold\"\n            >\n              {item?.title?.length > 75\n                ? item?.title?.substring(0, 75) + \"...\"\n                : item?.title}\n            </Typography>\n          </div> */}\n          {type === \"featured\" ? (\n            <>\n              <MUIRichTextEditor\n                readOnly\n                inlineToolbar={false}\n                style={{ width: \"100%\", textAlign: \"center\" }}\n                defaultValue={item?.body}\n                toolbar={false}\n              />\n            </>\n          ) : (\n            <Typography\n              justifyContent=\"stretch\"\n              textAlign=\"left\"\n              gutterBottom\n              fontSize={12}\n              color=\"black\"\n              paddingLeft={1}\n              paddingBottom={1}\n            >\n              {item?.summary}\n            </Typography>\n          )}\n        </CardActionArea>\n      </Card>\n    </>\n  );\n};\n\nconst Services = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [open, setOpen] = React.useState(false);\n  const [open2, setOpen2] = React.useState(false);\n  const [serviceList, setServiceList] = React.useState(null);\n  const [featured, setFeatured] = React.useState(null);\n\n  React.useEffect(() => {\n    const q = query(collection(db, \"services\"));\n    onSnapshot(q, (querySnapshot) => {\n      const service = [];\n      querySnapshot.forEach((doc) => {\n        let dat = doc.data();\n        service?.push(dat);\n      });\n      setServiceList(service);\n    });\n\n    onSnapshot(doc(db, \"featured\", \"service\"), (doc) => {\n      // console.log(\"Current data: \", doc.data());\n      setFeatured(doc.data());\n      // dispatch(setPermSecData(doc.data()));\n    });\n  }, []);\n\n  return (\n    <div>\n      <CustomDialog\n        open={open}\n        title=\"Add New Service\"\n        handleClose={() => setOpen(false)}\n        bodyComponent={<NewServiceForm setOpen={setOpen} />}\n      />\n      <CustomDialog2\n        open={open2}\n        title=\"Set Featured Service\"\n        handleClose={() => setOpen2(false)}\n        bodyComponent={<FeaturedServiceForm setOpen={setOpen2} />}\n      />\n      <div className={classes.row}>\n        <div className={classes.lhsRow}>\n          <Typography variant=\"h6\" color=\"blue\" fontSize={21}>\n            Services\n          </Typography>\n        </div>\n        <Box\n          display={\"flex\"}\n          flexDirection=\"row\"\n          justifyContent=\"end\"\n          alignItems={\"center\"}\n        >\n          <Button\n            sx={{ mx: 2 }}\n            startIcon={<Add />}\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => setOpen2(true)}\n          >\n            Featured Service\n          </Button>\n          <Button\n            startIcon={<Add />}\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => setOpen(true)}\n          >\n            Add Service\n          </Button>\n        </Box>\n      </div>\n      <br />\n      <div>\n        <div>\n          <Typography variant=\"h6\" gutterBottom>\n            Featured Service\n          </Typography>\n          <ServiceItemCard item={featured} type={\"featured\"} />\n        </div>\n        <br />\n        <br />\n        <Typography variant=\"h6\" gutterBottom>\n          Services\n        </Typography>\n        {serviceList && (\n          <Grid\n            container\n            spacing={{ xs: 2, md: 2 }}\n            columns={{ xs: 4, sm: 8, md: 12 }}\n          >\n            {serviceList?.map((item, index) => (\n              <Grid item xs={12} sm={6} md={6} key={index}>\n                <ServiceItemCard item={item} type=\"service\" />\n              </Grid>\n            ))}\n          </Grid>\n        )}\n        {serviceList?.length < 1 && (\n          <div className={classes.main}>\n            <div style={{ marginTop: \"auto\" }}>\n              <CloudOffIcon fontSize=\"large\" />\n              <Typography>No records found</Typography>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Services;\n"]},"metadata":{},"sourceType":"module"}