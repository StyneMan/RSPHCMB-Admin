{"ast":null,"code":"import _asyncToGenerator from\"/Users/macintosh/Developer/RSPHCMB-Admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/macintosh/Developer/RSPHCMB-Admin/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/macintosh/Developer/RSPHCMB-Admin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/macintosh/Developer/RSPHCMB-Admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/macintosh/Developer/RSPHCMB-Admin/node_modules/@babel/runtime/regenerator/index.js\";import{Call,Email,LocationOn}from\"@mui/icons-material\";import{Avatar,Backdrop,Button,CircularProgress,Container,Divider,Typography}from\"@mui/material\";import{Box}from\"@mui/system\";import React from\"react\";import{TextValidator}from\"react-material-ui-form-validator\";import{ValidatorForm}from\"react-material-ui-form-validator\";import{useSnackbar}from\"notistack\";import{makeStyles}from\"@mui/styles\";import{useSelector}from\"react-redux\";import{updateDoc,db,doc}from\"../../../../../data/firebase\";import CustomDialog from\"../../../../components/dialogs/custom-dialog\";import CustomDialog2 from\"../../../../components/dialogs/custom-dialog\";import CustomDialog3 from\"../../../../components/dialogs/custom-dialog\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{image:{margin:\"0px auto 15px auto\",width:128,height:100},mb:{marginBottom:10}};});var Contact=function Contact(){var _contactData$email,_contactData$phone;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),open2=_React$useState4[0],setOpen2=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),open3=_React$useState6[0],setOpen3=_React$useState6[1];var _useSelector=useSelector(function(state){return state.contact;}),contactData=_useSelector.contactData;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CustomDialog,{title:\"Update Contact Email Address\",open:open,handleClose:function handleClose(){return setOpen(false);},bodyComponent:/*#__PURE__*/_jsx(UpdateEmail,{setOpen:setOpen,email:(_contactData$email=contactData===null||contactData===void 0?void 0:contactData.email)!==null&&_contactData$email!==void 0?_contactData$email:\"\"})}),/*#__PURE__*/_jsx(CustomDialog2,{title:\"Update Contact Phone Number\",open:open2,handleClose:function handleClose(){return setOpen2(false);},bodyComponent:/*#__PURE__*/_jsx(UpdatePhone,{setOpen:setOpen2,phone:(_contactData$phone=contactData===null||contactData===void 0?void 0:contactData.phone)!==null&&_contactData$phone!==void 0?_contactData$phone:\"\"})}),/*#__PURE__*/_jsx(CustomDialog3,{title:\"Update Contact Address\",open:open3,handleClose:function handleClose(){return setOpen3(false);},bodyComponent:/*#__PURE__*/_jsx(UpdateAddress,{setOpen:setOpen3,address:contactData===null||contactData===void 0?void 0:contactData.address})}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",width:\"75%\",children:[/*#__PURE__*/_jsxs(Box,{paddingY:2,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Avatar,{variant:\"circular\",sx:{backgroundColor:\"#18113C\",width:48,height:48},children:/*#__PURE__*/_jsx(Email,{fontSize:\"14\"})}),/*#__PURE__*/_jsx(Typography,{children:contactData===null||contactData===void 0?void 0:contactData.email}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:function onClick(){return setOpen(true);},children:\"Update\"})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Box,{paddingY:2,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Avatar,{variant:\"circular\",sx:{backgroundColor:\"#18113C\",width:48,height:48},children:/*#__PURE__*/_jsx(Call,{fontSize:\"14\"})}),/*#__PURE__*/_jsx(Typography,{children:contactData===null||contactData===void 0?void 0:contactData.phone}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:function onClick(){return setOpen2(true);},children:\"Update\"})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Box,{paddingY:2,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Avatar,{variant:\"circular\",sx:{backgroundColor:\"#18113C\",width:48,height:48},children:/*#__PURE__*/_jsx(LocationOn,{fontSize:\"14\"})}),/*#__PURE__*/_jsx(Typography,{children:contactData===null||contactData===void 0?void 0:contactData.address}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:function onClick(){return setOpen3(true);},children:\"Update\"})]})]})})]});};var UpdateEmail=function UpdateEmail(props){var classes=useStyles();var setOpen=props.setOpen,email=props.email;var _React$useState7=React.useState({email:email}),_React$useState8=_slicedToArray(_React$useState7,2),formValues=_React$useState8[0],setFormValues=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),isLoading=_React$useState10[0],setIsLoading=_React$useState10[1];var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValues(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},name,value));});};var update=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var timeNow,mRef;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);setFormValues({email:formValues.email?formValues.email:email});//No image is changed. So update all text\ntimeNow=new Date();_context.prev=3;mRef=doc(db,\"contact\",\"data\");_context.next=7;return updateDoc(mRef,{email:formValues.email,updatedAt:timeNow});case 7:setOpen(false);setIsLoading(false);enqueueSnackbar(\"Email updated successfully\",{variant:\"success\"});_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](3);setIsLoading(false);enqueueSnackbar(\"\".concat((_context.t0===null||_context.t0===void 0?void 0:_context.t0.message)||\"Check your internet connection\"),{variant:\"error\"});case 16:case\"end\":return _context.stop();}}},_callee,null,[[3,12]]);}));return function update(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Backdrop,{style:{zIndex:1200},open:isLoading,children:isLoading?/*#__PURE__*/_jsx(CircularProgress,{size:90,thickness:3.0,style:{color:\"white\"}}):/*#__PURE__*/_jsx(\"div\",{})}),/*#__PURE__*/_jsxs(ValidatorForm,{onSubmit:update,children:[/*#__PURE__*/_jsx(TextValidator,{className:classes.mb,label:\"email\",size:\"small\",variant:\"outlined\",value:formValues.email===\" \"?email:!formValues.email?\"\":formValues.email,onChange:handleChange,name:\"email\",fullWidth:true,type:\"email\",validators:[\"required\"],errorMessages:[\"Email is required\"]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",disabled:isLoading,fullWidth:true,children:\"Update Email Address\"})]})]});};var UpdatePhone=function UpdatePhone(props){var classes=useStyles();var setOpen=props.setOpen,phone=props.phone;var _React$useState11=React.useState({phone:phone}),_React$useState12=_slicedToArray(_React$useState11,2),formValues=_React$useState12[0],setFormValues=_React$useState12[1];var _React$useState13=React.useState(false),_React$useState14=_slicedToArray(_React$useState13,2),isLoading=_React$useState14[0],setIsLoading=_React$useState14[1];var _useSnackbar2=useSnackbar(),enqueueSnackbar=_useSnackbar2.enqueueSnackbar;var handleChange=function handleChange(e){var _e$target2=e.target,name=_e$target2.name,value=_e$target2.value;setFormValues(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},name,value));});};var update=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var timeNow,mRef;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsLoading(true);setFormValues({phone:formValues.phone?formValues.phone:phone});//No image is changed. So update all text\ntimeNow=new Date();_context2.prev=3;mRef=doc(db,\"contact\",\"data\");_context2.next=7;return updateDoc(mRef,{phone:formValues.phone,updatedAt:timeNow});case 7:setOpen(false);setIsLoading(false);enqueueSnackbar(\"Phone number updated successfully\",{variant:\"success\"});_context2.next=16;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](3);setIsLoading(false);enqueueSnackbar(\"\".concat((_context2.t0===null||_context2.t0===void 0?void 0:_context2.t0.message)||\"Check your internet connection\"),{variant:\"error\"});case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[3,12]]);}));return function update(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Backdrop,{style:{zIndex:1200},open:isLoading,children:isLoading?/*#__PURE__*/_jsx(CircularProgress,{size:90,thickness:3.0,style:{color:\"white\"}}):/*#__PURE__*/_jsx(\"div\",{})}),/*#__PURE__*/_jsxs(ValidatorForm,{onSubmit:update,children:[/*#__PURE__*/_jsx(TextValidator,{className:classes.mb,label:\"Phone\",size:\"small\",variant:\"outlined\",value:formValues.phone===\" \"?phone:!formValues.phone?\"\":formValues.phone,onChange:handleChange,name:\"phone\",fullWidth:true,validators:[\"required\"],errorMessages:[\"Phone number is required\"]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",disabled:isLoading,fullWidth:true,children:\"Update Phone Number\"})]})]});};var UpdateAddress=function UpdateAddress(props){var classes=useStyles();var setOpen=props.setOpen,address=props.address;var _React$useState15=React.useState({address:address}),_React$useState16=_slicedToArray(_React$useState15,2),formValues=_React$useState16[0],setFormValues=_React$useState16[1];var _React$useState17=React.useState(false),_React$useState18=_slicedToArray(_React$useState17,2),isLoading=_React$useState18[0],setIsLoading=_React$useState18[1];var _useSnackbar3=useSnackbar(),enqueueSnackbar=_useSnackbar3.enqueueSnackbar;var handleChange=function handleChange(e){var _e$target3=e.target,name=_e$target3.name,value=_e$target3.value;setFormValues(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},name,value));});};var update=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var timeNow,mRef;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setIsLoading(true);setFormValues({address:formValues.address?formValues.address:address});//No image is changed. So update all text\ntimeNow=new Date();_context3.prev=3;mRef=doc(db,\"contact\",\"data\");_context3.next=7;return updateDoc(mRef,{address:formValues.address,updatedAt:timeNow});case 7:setOpen(false);setIsLoading(false);enqueueSnackbar(\"Address updated successfully\",{variant:\"success\"});_context3.next=16;break;case 12:_context3.prev=12;_context3.t0=_context3[\"catch\"](3);setIsLoading(false);enqueueSnackbar(\"\".concat((_context3.t0===null||_context3.t0===void 0?void 0:_context3.t0.message)||\"Check your internet connection\"),{variant:\"error\"});case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[3,12]]);}));return function update(_x3){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Backdrop,{style:{zIndex:1200},open:isLoading,children:isLoading?/*#__PURE__*/_jsx(CircularProgress,{size:90,thickness:3.0,style:{color:\"white\"}}):/*#__PURE__*/_jsx(\"div\",{})}),/*#__PURE__*/_jsxs(ValidatorForm,{onSubmit:update,children:[/*#__PURE__*/_jsx(TextValidator,{className:classes.mb,label:\"Address\",size:\"small\",variant:\"outlined\",value:formValues.address===\" \"?address:!formValues.address?\"\":formValues.address,onChange:handleChange,name:\"address\",fullWidth:true,required:true,validators:[\"required\"],errorMessages:[\"Address is required\"]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",disabled:isLoading,fullWidth:true,children:\"Update Address\"})]})]});};export default Contact;","map":{"version":3,"sources":["/Users/macintosh/Developer/RSPHCMB-Admin/src/presentation/pages/dashboard/tabs/contact/index.js"],"names":["Call","Email","LocationOn","Avatar","Backdrop","Button","CircularProgress","Container","Divider","Typography","Box","React","TextValidator","ValidatorForm","useSnackbar","makeStyles","useSelector","updateDoc","db","doc","CustomDialog","CustomDialog2","CustomDialog3","useStyles","theme","image","margin","width","height","mb","marginBottom","Contact","useState","open","setOpen","open2","setOpen2","open3","setOpen3","state","contact","contactData","email","phone","address","backgroundColor","UpdateEmail","props","classes","formValues","setFormValues","isLoading","setIsLoading","enqueueSnackbar","handleChange","e","target","name","value","prevData","update","timeNow","Date","mRef","updatedAt","variant","message","zIndex","color","UpdatePhone","UpdateAddress"],"mappings":"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","sourcesContent":["import { Call, Email, LocationOn } from \"@mui/icons-material\";\nimport {\n  Avatar,\n  Backdrop,\n  Button,\n  CircularProgress,\n  Container,\n  Divider,\n  Typography,\n} from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React from \"react\";\nimport { TextValidator } from \"react-material-ui-form-validator\";\nimport { ValidatorForm } from \"react-material-ui-form-validator\";\nimport { useSnackbar } from \"notistack\";\nimport { makeStyles } from \"@mui/styles\";\nimport { useSelector } from \"react-redux\";\nimport { updateDoc, db, doc } from \"../../../../../data/firebase\";\nimport CustomDialog from \"../../../../components/dialogs/custom-dialog\";\nimport CustomDialog2 from \"../../../../components/dialogs/custom-dialog\";\nimport CustomDialog3 from \"../../../../components/dialogs/custom-dialog\";\n\nconst useStyles = makeStyles((theme) => ({\n  image: {\n    margin: \"0px auto 15px auto\",\n    width: 128,\n    height: 100,\n  },\n  mb: {\n    marginBottom: 10,\n  },\n}));\n\nconst Contact = () => {\n  const [open, setOpen] = React.useState(false);\n  const [open2, setOpen2] = React.useState(false);\n  const [open3, setOpen3] = React.useState(false);\n\n  const { contactData } = useSelector((state) => state.contact);\n\n  return (\n    <div>\n      <CustomDialog\n        title=\"Update Contact Email Address\"\n        open={open}\n        handleClose={() => setOpen(false)}\n        bodyComponent={\n          <UpdateEmail setOpen={setOpen} email={contactData?.email ?? \"\"} />\n        }\n      />\n      <CustomDialog2\n        title=\"Update Contact Phone Number\"\n        open={open2}\n        handleClose={() => setOpen2(false)}\n        bodyComponent={\n          <UpdatePhone setOpen={setOpen2} phone={contactData?.phone ?? \"\"} />\n        }\n      />\n      <CustomDialog3\n        title=\"Update Contact Address\"\n        open={open3}\n        handleClose={() => setOpen3(false)}\n        bodyComponent={\n          <UpdateAddress setOpen={setOpen3} address={contactData?.address} />\n        }\n      />\n      <Container>\n        <Box display=\"flex\" flexDirection={\"column\"} width=\"75%\">\n          <Box\n            paddingY={2}\n            display=\"flex\"\n            flexDirection={\"row\"}\n            justifyContent=\"space-between\"\n            alignItems={\"center\"}\n          >\n            <Avatar\n              variant=\"circular\"\n              sx={{\n                backgroundColor: \"#18113C\",\n                width: 48,\n                height: 48,\n              }}\n            >\n              <Email fontSize=\"14\" />\n            </Avatar>\n            <Typography>{contactData?.email}</Typography>\n            <Button variant=\"contained\" onClick={() => setOpen(true)}>\n              Update\n            </Button>\n          </Box>\n          <Divider />\n          <Box\n            paddingY={2}\n            display=\"flex\"\n            flexDirection={\"row\"}\n            justifyContent=\"space-between\"\n            alignItems={\"center\"}\n          >\n            <Avatar\n              variant=\"circular\"\n              sx={{\n                backgroundColor: \"#18113C\",\n                width: 48,\n                height: 48,\n              }}\n            >\n              <Call fontSize=\"14\" />\n            </Avatar>\n            <Typography>{contactData?.phone}</Typography>\n            <Button variant=\"contained\" onClick={() => setOpen2(true)}>\n              Update\n            </Button>\n          </Box>\n          <Divider />\n          <Box\n            paddingY={2}\n            display=\"flex\"\n            flexDirection={\"row\"}\n            justifyContent=\"space-between\"\n            alignItems={\"center\"}\n          >\n            <Avatar\n              variant=\"circular\"\n              sx={{\n                backgroundColor: \"#18113C\",\n                width: 48,\n                height: 48,\n              }}\n            >\n              <LocationOn fontSize=\"14\" />\n            </Avatar>\n            <Typography>{contactData?.address}</Typography>\n            <Button variant=\"contained\" onClick={() => setOpen3(true)}>\n              Update\n            </Button>\n          </Box>\n        </Box>\n      </Container>\n    </div>\n  );\n};\n\nconst UpdateEmail = (props) => {\n  const classes = useStyles();\n  let { setOpen, email } = props;\n  const [formValues, setFormValues] = React.useState({\n    email: email,\n  });\n  const [isLoading, setIsLoading] = React.useState(false);\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormValues((prevData) => ({ ...prevData, [name]: value }));\n  };\n\n  const update = async (e) => {\n    setIsLoading(true);\n    setFormValues({\n      email: formValues.email ? formValues.email : email,\n    });\n\n    //No image is changed. So update all text\n    const timeNow = new Date();\n    try {\n      const mRef = doc(db, \"contact\", \"data\");\n      await updateDoc(mRef, {\n        email: formValues.email,\n        updatedAt: timeNow,\n      });\n      setOpen(false);\n      setIsLoading(false);\n      enqueueSnackbar(`Email updated successfully`, {\n        variant: \"success\",\n      });\n    } catch (error) {\n      setIsLoading(false);\n      enqueueSnackbar(`${error?.message || \"Check your internet connection\"}`, {\n        variant: \"error\",\n      });\n    }\n  };\n\n  return (\n    <div>\n      <Backdrop style={{ zIndex: 1200 }} open={isLoading}>\n        {isLoading ? (\n          <CircularProgress\n            size={90}\n            thickness={3.0}\n            style={{ color: \"white\" }}\n          />\n        ) : (\n          <div />\n        )}\n      </Backdrop>\n      <ValidatorForm onSubmit={update}>\n        <TextValidator\n          className={classes.mb}\n          label=\"email\"\n          size=\"small\"\n          variant=\"outlined\"\n          value={\n            formValues.email === \" \"\n              ? email\n              : !formValues.email\n              ? \"\"\n              : formValues.email\n          }\n          onChange={handleChange}\n          name=\"email\"\n          fullWidth\n          type=\"email\"\n          validators={[\"required\"]}\n          errorMessages={[\"Email is required\"]}\n        />\n\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          disabled={isLoading}\n          fullWidth\n        >\n          Update Email Address\n        </Button>\n      </ValidatorForm>\n    </div>\n  );\n};\n\nconst UpdatePhone = (props) => {\n  const classes = useStyles();\n  let { setOpen, phone } = props;\n  const [formValues, setFormValues] = React.useState({\n    phone: phone,\n  });\n  const [isLoading, setIsLoading] = React.useState(false);\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormValues((prevData) => ({ ...prevData, [name]: value }));\n  };\n\n  const update = async (e) => {\n    setIsLoading(true);\n    setFormValues({\n      phone: formValues.phone ? formValues.phone : phone,\n    });\n\n    //No image is changed. So update all text\n    const timeNow = new Date();\n    try {\n      const mRef = doc(db, \"contact\", \"data\");\n      await updateDoc(mRef, {\n        phone: formValues.phone,\n        updatedAt: timeNow,\n      });\n      setOpen(false);\n      setIsLoading(false);\n      enqueueSnackbar(`Phone number updated successfully`, {\n        variant: \"success\",\n      });\n    } catch (error) {\n      setIsLoading(false);\n      enqueueSnackbar(`${error?.message || \"Check your internet connection\"}`, {\n        variant: \"error\",\n      });\n    }\n  };\n\n  return (\n    <div>\n      <Backdrop style={{ zIndex: 1200 }} open={isLoading}>\n        {isLoading ? (\n          <CircularProgress\n            size={90}\n            thickness={3.0}\n            style={{ color: \"white\" }}\n          />\n        ) : (\n          <div />\n        )}\n      </Backdrop>\n      <ValidatorForm onSubmit={update}>\n        <TextValidator\n          className={classes.mb}\n          label=\"Phone\"\n          size=\"small\"\n          variant=\"outlined\"\n          value={\n            formValues.phone === \" \"\n              ? phone\n              : !formValues.phone\n              ? \"\"\n              : formValues.phone\n          }\n          onChange={handleChange}\n          name=\"phone\"\n          fullWidth\n          validators={[\"required\"]}\n          errorMessages={[\"Phone number is required\"]}\n        />\n\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          disabled={isLoading}\n          fullWidth\n        >\n          Update Phone Number\n        </Button>\n      </ValidatorForm>\n    </div>\n  );\n};\n\nconst UpdateAddress = (props) => {\n  const classes = useStyles();\n  let { setOpen, address } = props;\n  const [formValues, setFormValues] = React.useState({\n    address: address,\n  });\n  const [isLoading, setIsLoading] = React.useState(false);\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormValues((prevData) => ({ ...prevData, [name]: value }));\n  };\n\n  const update = async (e) => {\n    setIsLoading(true);\n    setFormValues({\n      address: formValues.address ? formValues.address : address,\n    });\n\n    //No image is changed. So update all text\n    const timeNow = new Date();\n    try {\n      const mRef = doc(db, \"contact\", \"data\");\n      await updateDoc(mRef, {\n        address: formValues.address,\n        updatedAt: timeNow,\n      });\n      setOpen(false);\n      setIsLoading(false);\n      enqueueSnackbar(`Address updated successfully`, {\n        variant: \"success\",\n      });\n    } catch (error) {\n      setIsLoading(false);\n      enqueueSnackbar(`${error?.message || \"Check your internet connection\"}`, {\n        variant: \"error\",\n      });\n    }\n  };\n\n  return (\n    <div>\n      <Backdrop style={{ zIndex: 1200 }} open={isLoading}>\n        {isLoading ? (\n          <CircularProgress\n            size={90}\n            thickness={3.0}\n            style={{ color: \"white\" }}\n          />\n        ) : (\n          <div />\n        )}\n      </Backdrop>\n      <ValidatorForm onSubmit={update}>\n        <TextValidator\n          className={classes.mb}\n          label=\"Address\"\n          size=\"small\"\n          variant=\"outlined\"\n          value={\n            formValues.address === \" \"\n              ? address\n              : !formValues.address\n              ? \"\"\n              : formValues.address\n          }\n          onChange={handleChange}\n          name=\"address\"\n          fullWidth\n          required\n          validators={[\"required\"]}\n          errorMessages={[\"Address is required\"]}\n        />\n\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          disabled={isLoading}\n          fullWidth\n        >\n          Update Address\n        </Button>\n      </ValidatorForm>\n    </div>\n  );\n};\n\nexport default Contact;\n"]},"metadata":{},"sourceType":"module"}