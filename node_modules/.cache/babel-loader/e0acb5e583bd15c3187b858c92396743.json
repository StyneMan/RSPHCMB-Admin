{"ast":null,"code":"import _asyncToGenerator from\"/Users/macintosh/Developer/RSPHCMB-Admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/macintosh/Developer/RSPHCMB-Admin/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/macintosh/Developer/RSPHCMB-Admin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/macintosh/Developer/RSPHCMB-Admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/macintosh/Developer/RSPHCMB-Admin/node_modules/@babel/runtime/regenerator/index.js\";import{Box,Button,Typography}from\"@mui/material\";import React from\"react\";import{ValidatorForm,TextValidator}from\"react-material-ui-form-validator\";import{useHistory}from\"react-router-dom\";import CircularProgress from\"@mui/material/CircularProgress\";import{RefreshOutlined}from\"@mui/icons-material\";// import { useDispatch } from \"react-redux\";\n// import { setMyData, setUserData } from \"../../data/redux/slice/user\";\nimport{auth}from\"../../data/firebase\";import{resetPassword}from\"../../domain/service\";import image from\"../../assets/images/logo.svg\";import{useSnackbar}from\"notistack\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PasswordForm=function PasswordForm(){var history=useHistory();var _React$useState=React.useState({email:\"\"}),_React$useState2=_slicedToArray(_React$useState,2),formValues=_React$useState2[0],setFormValues=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isLoading=_React$useState4[0],setIsLoading=_React$useState4[1];var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValues(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},name,value));});};var submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);resetPassword(auth,formValues.email).then(function(resp){setIsLoading(false);enqueueSnackbar(\"Password reset link sent to \".concat(formValues.email),{variant:\"success\"});}).catch(function(error){setIsLoading(false);enqueueSnackbar(\"\".concat((error===null||error===void 0?void 0:error.message)||\"Check your internet connection!\"),{variant:\"error\"});});case 2:case\"end\":return _context.stop();}}},_callee);}));return function submitForm(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Box,{paddingTop:5,paddingBottom:8,display:\"flex\",flexDirection:\"column\",justifyContent:\"start\",children:[/*#__PURE__*/_jsx(Box,{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",pb:1,children:/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"\",width:\"64%\"})}),/*#__PURE__*/_jsx(Typography,{gutterBottom:true,fontSize:14,fontWeight:\"600\",paddingBottom:4,textAlign:\"center\",children:\"Enter your email to reset your password.\"}),/*#__PURE__*/_jsxs(ValidatorForm,{onSubmit:submitForm,children:[/*#__PURE__*/_jsx(TextValidator,{margin:\"normal\",required:true,fullWidth:true,id:\"email\",name:\"email\",value:formValues.email,onChange:handleChange,autoComplete:\"email\",label:\"Email\",placeholder:\"Email\",variant:\"outlined\",validators:[\"required\"],errorMessages:[\"Email address is required\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Box,{width:\"100%\",display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Button,{variant:\"text\",sx:{textTransform:\"none\"},onClick:function onClick(){return history.push(\"/forgot-password\");},children:\"Forgot password?\"}),/*#__PURE__*/_jsxs(Button,{disabled:isLoading,disableElevation:true,sx:{textTransform:\"none\"},endIcon:isLoading&&/*#__PURE__*/_jsx(CircularProgress,{children:/*#__PURE__*/_jsx(RefreshOutlined,{})}),type:\"submit\",variant:\"contained\",children:[\" \",\"Sign in\"]})]})]})]})});};export default PasswordForm;","map":{"version":3,"sources":["/Users/macintosh/Developer/RSPHCMB-Admin/src/presentation/forms/password.js"],"names":["Box","Button","Typography","React","ValidatorForm","TextValidator","useHistory","CircularProgress","RefreshOutlined","auth","resetPassword","image","useSnackbar","PasswordForm","history","useState","email","formValues","setFormValues","isLoading","setIsLoading","enqueueSnackbar","handleChange","e","target","name","value","prevData","submitForm","then","resp","variant","catch","error","message","textTransform","push"],"mappings":"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","sourcesContent":["import { Box, Button, Typography } from \"@mui/material\";\nimport React from \"react\";\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\nimport { useHistory } from \"react-router-dom\";\n\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport { RefreshOutlined } from \"@mui/icons-material\";\n\n// import { useDispatch } from \"react-redux\";\n// import { setMyData, setUserData } from \"../../data/redux/slice/user\";\nimport { auth } from \"../../data/firebase\";\nimport { resetPassword } from \"../../domain/service\";\nimport image from \"../../assets/images/logo.svg\";\nimport { useSnackbar } from \"notistack\";\n\nconst PasswordForm = () => {\n  const history = useHistory();\n  const [formValues, setFormValues] = React.useState({\n    email: \"\",\n  });\n  const [isLoading, setIsLoading] = React.useState(false);\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormValues((prevData) => ({ ...prevData, [name]: value }));\n  };\n\n  const submitForm = async (e) => {\n    setIsLoading(true);\n    resetPassword(auth, formValues.email)\n      .then((resp) => {\n        setIsLoading(false);\n        enqueueSnackbar(`Password reset link sent to ${formValues.email}`, {\n          variant: \"success\",\n        });\n      })\n      .catch((error) => {\n        setIsLoading(false);\n        enqueueSnackbar(\n          `${error?.message || \"Check your internet connection!\"}`,\n          { variant: \"error\" }\n        );\n      });\n  };\n\n  return (\n    <div>\n      <Box\n        paddingTop={5}\n        paddingBottom={8}\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent={\"start\"}\n      >\n        {/* <Typography\n          gutterBottom\n          fontSize={18}\n          fontWeight=\"600\"\n          textAlign={\"center\"}\n        >\n          Forgot Password?\n        </Typography> */}\n        <Box\n          display=\"flex\"\n          flexDirection=\"column\"\n          justifyContent={\"center\"}\n          alignItems=\"center\"\n          pb={1}\n        >\n          <img src={image} alt=\"\" width={\"64%\"} />\n        </Box>\n        <Typography\n          gutterBottom\n          fontSize={14}\n          fontWeight=\"600\"\n          paddingBottom={4}\n          textAlign=\"center\"\n        >\n          Enter your email to reset your password.\n        </Typography>\n        <ValidatorForm onSubmit={submitForm}>\n          <TextValidator\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            name=\"email\"\n            value={formValues.email}\n            onChange={handleChange}\n            autoComplete=\"email\"\n            label=\"Email\"\n            placeholder=\"Email\"\n            variant=\"outlined\"\n            validators={[\"required\"]}\n            errorMessages={[\"Email address is required\"]}\n          />\n\n          <br />\n\n          <Box\n            width={\"100%\"}\n            display=\"flex\"\n            flexDirection={\"row\"}\n            justifyContent=\"space-between\"\n            alignItems={\"center\"}\n          >\n            <Button\n              variant=\"text\"\n              sx={{ textTransform: \"none\" }}\n              onClick={() => history.push(\"/forgot-password\")}\n            >\n              Forgot password?\n            </Button>\n            <Button\n              disabled={isLoading}\n              disableElevation={true}\n              sx={{ textTransform: \"none\" }}\n              endIcon={\n                isLoading && (\n                  <CircularProgress>\n                    <RefreshOutlined />\n                  </CircularProgress>\n                )\n              }\n              type=\"submit\"\n              variant=\"contained\"\n            >\n              {\" \"}\n              Sign in\n            </Button>\n          </Box>\n        </ValidatorForm>\n      </Box>\n    </div>\n  );\n};\n\nexport default PasswordForm;\n"]},"metadata":{},"sourceType":"module"}