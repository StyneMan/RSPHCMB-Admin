{"ast":null,"code":"import React from\"react\";import{BrowserRouter as Router,Switch,Route}from\"react-router-dom\";import Login from\"./presentation/pages/login\";import ForgotPassword from\"./presentation/pages/password\";import ProtectedRoute from\"./presentation/components/protected_routes\";import{useDispatch}from\"react-redux\";import{query,db,collection,onSnapshot,doc,auth}from\"./data/firebase/\";import{setMyData}from\"./data/redux/slice/user\";import ScrollToTop from\"./util/scroll\";import{setFAQs}from\"./data/redux/slice/faqs\";import{setTeamData}from\"./data/redux/slice/team\";import{setPermSecData}from\"./data/redux/slice/perm_sec\";import{setWDCData}from\"./data/redux/slice/wdc\";import{setPartnersData}from\"./data/redux/slice/partners\";import{setResearchData,setReportsData,setDownloadsData,setGalleryData}from\"./data/redux/slice/resources\";import{setLGAsData}from\"./data/redux/slice/lga\";import Dashboard from\"./presentation/pages/dashboard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var dispatch=useDispatch();// const [user, setUser] = React.useState(null);\nReact.useEffect(function(){try{var user=auth.currentUser;if(user){onSnapshot(doc(db,\"users\",\"\"+user.uid),function(doc){// userData(doc.data());\ndispatch(setMyData(doc.data()));console.log(\"ARGTE::\",doc.data());// setUser(doc.data());\n});}// auth().onAuthStateChanged((user) => {\n//   if (user) {\n//     onSnapshot(doc(db, \"users\", \"\" + user.uid), (doc) => {\n//       dispatch(setUserData(doc.data()));\n//     });\n//   } else {\n//     dispatch(setUserData(null));\n//   }\n// });\n}catch(err){// console.log(err);\n}// return () => {};\n},[]);React.useEffect(function(){var q=query(collection(db,\"faqs\"));onSnapshot(q,function(querySnapshot){var faqs=[];querySnapshot.forEach(function(doc){faqs.push(doc.data());});dispatch(setFAQs(faqs));});var teamQuery=query(collection(db,\"team-members\"));onSnapshot(teamQuery,function(querySnapshot){var teams=[];querySnapshot.forEach(function(doc){teams.push(doc.data());});dispatch(setTeamData(teams));});var partnersQuery=query(collection(db,\"partners\"));onSnapshot(partnersQuery,function(querySnapshot){var partners=[];querySnapshot.forEach(function(doc){partners.push(doc.data());});dispatch(setPartnersData(partners));});onSnapshot(doc(db,\"perm-sec\",\"info\"),function(doc){// console.log(\"Current data: \", doc.data());\ndispatch(setPermSecData(doc.data()));});onSnapshot(doc(db,\"contents\",\"wdc\"),function(doc){// console.log(\"Current data: \", doc.data());\ndispatch(setWDCData(doc.data()));});onSnapshot(doc(db,\"resources\",\"research\"),function(doc){// console.log(\"Current data: \", doc.data());\ndispatch(setResearchData(doc.data()));});var reportsQuery=query(collection(db,\"reports\"));onSnapshot(reportsQuery,function(querySnapshot){var reports=[];querySnapshot.forEach(function(doc){reports.push(doc.data());});dispatch(setReportsData(reports));});var downloadsQuery=query(collection(db,\"downloads\"));onSnapshot(downloadsQuery,function(querySnapshot){var downloads=[];querySnapshot.forEach(function(doc){downloads.push(doc.data());});dispatch(setDownloadsData(downloads));});var galleryQuery=query(collection(db,\"gallery\"));onSnapshot(galleryQuery,function(querySnapshot){var gallery=[];querySnapshot.forEach(function(doc){gallery.push(doc.data());});dispatch(setGalleryData(gallery));});var LGAsQuery=query(collection(db,\"lgas\"));onSnapshot(LGAsQuery,function(querySnapshot){var lgas=[];querySnapshot.forEach(function(doc){lgas.push(doc.data());});dispatch(setLGAsData(lgas));});});return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ScrollToTop,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/forgot-password\",exact:true,children:/*#__PURE__*/_jsx(ForgotPassword,{})}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/dashboard\",children:/*#__PURE__*/_jsx(Dashboard,{})})]})]})})});}export default App;","map":{"version":3,"sources":["/Users/macintosh/Developer/RSPHCMB-Admin/src/App.js"],"names":["React","BrowserRouter","Router","Switch","Route","Login","ForgotPassword","ProtectedRoute","useDispatch","query","db","collection","onSnapshot","doc","auth","setMyData","ScrollToTop","setFAQs","setTeamData","setPermSecData","setWDCData","setPartnersData","setResearchData","setReportsData","setDownloadsData","setGalleryData","setLGAsData","Dashboard","App","dispatch","useEffect","user","currentUser","uid","data","console","log","err","q","querySnapshot","faqs","forEach","push","teamQuery","teams","partnersQuery","partners","reportsQuery","reports","downloadsQuery","downloads","galleryQuery","gallery","LGAsQuery","lgas"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Login from \"./presentation/pages/login\";\nimport ForgotPassword from \"./presentation/pages/password\";\nimport ProtectedRoute from \"./presentation/components/protected_routes\";\n\nimport { useDispatch } from \"react-redux\";\nimport { query, db, collection, onSnapshot, doc, auth } from \"./data/firebase/\";\nimport { setMyData } from \"./data/redux/slice/user\";\n\nimport ScrollToTop from \"./util/scroll\";\n\nimport { setFAQs } from \"./data/redux/slice/faqs\";\nimport { setTeamData } from \"./data/redux/slice/team\";\nimport { setPermSecData } from \"./data/redux/slice/perm_sec\";\nimport { setWDCData } from \"./data/redux/slice/wdc\";\nimport { setPartnersData } from \"./data/redux/slice/partners\";\nimport {\n  setResearchData,\n  setReportsData,\n  setDownloadsData,\n  setGalleryData,\n} from \"./data/redux/slice/resources\";\nimport { setLGAsData } from \"./data/redux/slice/lga\";\nimport Dashboard from \"./presentation/pages/dashboard\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  // const [user, setUser] = React.useState(null);\n\n  React.useEffect(() => {\n    try {\n      const user = auth.currentUser;\n      if (user) {\n        onSnapshot(doc(db, \"users\", \"\" + user.uid), (doc) => {\n          // userData(doc.data());\n          dispatch(setMyData(doc.data()));\n          console.log(\"ARGTE::\", doc.data());\n          // setUser(doc.data());\n        });\n      }\n\n      // auth().onAuthStateChanged((user) => {\n      //   if (user) {\n      //     onSnapshot(doc(db, \"users\", \"\" + user.uid), (doc) => {\n      //       dispatch(setUserData(doc.data()));\n      //     });\n      //   } else {\n      //     dispatch(setUserData(null));\n      //   }\n      // });\n    } catch (err) {\n      // console.log(err);\n    }\n    // return () => {};\n  }, []);\n\n  React.useEffect(() => {\n    const q = query(collection(db, \"faqs\"));\n    onSnapshot(q, (querySnapshot) => {\n      const faqs = [];\n      querySnapshot.forEach((doc) => {\n        faqs.push(doc.data());\n      });\n      dispatch(setFAQs(faqs));\n    });\n\n    const teamQuery = query(collection(db, \"team-members\"));\n    onSnapshot(teamQuery, (querySnapshot) => {\n      const teams = [];\n      querySnapshot.forEach((doc) => {\n        teams.push(doc.data());\n      });\n      dispatch(setTeamData(teams));\n    });\n\n    const partnersQuery = query(collection(db, \"partners\"));\n    onSnapshot(partnersQuery, (querySnapshot) => {\n      const partners = [];\n      querySnapshot.forEach((doc) => {\n        partners.push(doc.data());\n      });\n      dispatch(setPartnersData(partners));\n    });\n\n    onSnapshot(doc(db, \"perm-sec\", \"info\"), (doc) => {\n      // console.log(\"Current data: \", doc.data());\n      dispatch(setPermSecData(doc.data()));\n    });\n\n    onSnapshot(doc(db, \"contents\", \"wdc\"), (doc) => {\n      // console.log(\"Current data: \", doc.data());\n      dispatch(setWDCData(doc.data()));\n    });\n\n    onSnapshot(doc(db, \"resources\", \"research\"), (doc) => {\n      // console.log(\"Current data: \", doc.data());\n      dispatch(setResearchData(doc.data()));\n    });\n\n    const reportsQuery = query(collection(db, \"reports\"));\n    onSnapshot(reportsQuery, (querySnapshot) => {\n      const reports = [];\n      querySnapshot.forEach((doc) => {\n        reports.push(doc.data());\n      });\n      dispatch(setReportsData(reports));\n    });\n\n    const downloadsQuery = query(collection(db, \"downloads\"));\n    onSnapshot(downloadsQuery, (querySnapshot) => {\n      const downloads = [];\n      querySnapshot.forEach((doc) => {\n        downloads.push(doc.data());\n      });\n      dispatch(setDownloadsData(downloads));\n    });\n\n    const galleryQuery = query(collection(db, \"gallery\"));\n    onSnapshot(galleryQuery, (querySnapshot) => {\n      const gallery = [];\n      querySnapshot.forEach((doc) => {\n        gallery.push(doc.data());\n      });\n      dispatch(setGalleryData(gallery));\n    });\n\n    const LGAsQuery = query(collection(db, \"lgas\"));\n    onSnapshot(LGAsQuery, (querySnapshot) => {\n      const lgas = [];\n      querySnapshot.forEach((doc) => {\n        lgas.push(doc.data());\n      });\n      dispatch(setLGAsData(lgas));\n    });\n  });\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <div>\n          <ScrollToTop />\n          <Switch>\n            <Route path=\"/\" exact>\n              <Login />\n            </Route>\n\n            <Route path=\"/forgot-password\" exact>\n              <ForgotPassword />\n            </Route>\n\n            <ProtectedRoute path=\"/dashboard\">\n              <Dashboard />\n            </ProtectedRoute>\n\n            {/* <Route\n              path=\"//*\"\n              element={\n                <ProtectedRoute>\n                  < />\n                </ProtectedRoute>\n              }\n            /> */}\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}