{"ast":null,"code":"var _jsxFileName = \"/Users/macintosh/Developer/RSPHCMB-Admin/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Login from \"./presentation/pages/login\";\nimport ForgotPassword from \"./presentation/pages/password\";\nimport ProtectedRoute from \"./presentation/components/protected_routes\";\nimport { useDispatch } from \"react-redux\";\nimport { query, db, collection, onSnapshot, doc, auth } from \"./data/firebase/\";\nimport { setUserData } from \"./data/redux/slice/user\";\nimport ScrollToTop from \"./util/scroll\";\nimport { setFAQs } from \"./data/redux/slice/faqs\";\nimport { setTeamData } from \"./data/redux/slice/team\";\nimport { setPermSecData } from \"./data/redux/slice/perm_sec\";\nimport { setWDCData } from \"./data/redux/slice/wdc\";\nimport { setPartnersData } from \"./data/redux/slice/partners\";\nimport { setResearchData, setReportsData, setDownloadsData, setGalleryData } from \"./data/redux/slice/resources\";\nimport { setLGAsData } from \"./data/redux/slice/lga\";\nimport Dashboard from \"./presentation/pages/dashboard\";\nimport MiniDrawer from \"./presentation/pages/dashboard/index2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const dispatch = useDispatch();\n  const [user, setUser] = React.useState(null);\n  React.useEffect(() => {\n    try {\n      const user = auth.currentUser;\n\n      if (user) {\n        onSnapshot(doc(db, \"users\", \"\" + user.uid), doc => {\n          // userData(doc.data());\n          dispatch(setUserData(doc.data()));\n          console.log(doc.data());\n          setUser(doc.data());\n        });\n      } // auth().onAuthStateChanged((user) => {\n      //   if (user) {\n      //     onSnapshot(doc(db, \"users\", \"\" + user.uid), (doc) => {\n      //       dispatch(setUserData(doc.data()));\n      //     });\n      //   } else {\n      //     dispatch(setUserData(null));\n      //   }\n      // });\n\n    } catch (err) {// console.log(err);\n    } // return () => {};\n\n  }, []);\n  React.useEffect(() => {\n    const q = query(collection(db, \"faqs\"));\n    onSnapshot(q, querySnapshot => {\n      const faqs = [];\n      querySnapshot.forEach(doc => {\n        faqs.push(doc.data());\n      });\n      dispatch(setFAQs(faqs));\n    });\n    const teamQuery = query(collection(db, \"team-members\"));\n    onSnapshot(teamQuery, querySnapshot => {\n      const teams = [];\n      querySnapshot.forEach(doc => {\n        teams.push(doc.data());\n      });\n      dispatch(setTeamData(teams));\n    });\n    const partnersQuery = query(collection(db, \"partners\"));\n    onSnapshot(partnersQuery, querySnapshot => {\n      const partners = [];\n      querySnapshot.forEach(doc => {\n        partners.push(doc.data());\n      });\n      dispatch(setPartnersData(partners));\n    });\n    onSnapshot(doc(db, \"perm-sec\", \"info\"), doc => {\n      // console.log(\"Current data: \", doc.data());\n      dispatch(setPermSecData(doc.data()));\n    });\n    onSnapshot(doc(db, \"contents\", \"wdc\"), doc => {\n      // console.log(\"Current data: \", doc.data());\n      dispatch(setWDCData(doc.data()));\n    });\n    onSnapshot(doc(db, \"resources\", \"research\"), doc => {\n      // console.log(\"Current data: \", doc.data());\n      dispatch(setResearchData(doc.data()));\n    });\n    const reportsQuery = query(collection(db, \"reports\"));\n    onSnapshot(reportsQuery, querySnapshot => {\n      const reports = [];\n      querySnapshot.forEach(doc => {\n        reports.push(doc.data());\n      });\n      dispatch(setReportsData(reports));\n    });\n    const downloadsQuery = query(collection(db, \"downloads\"));\n    onSnapshot(downloadsQuery, querySnapshot => {\n      const downloads = [];\n      querySnapshot.forEach(doc => {\n        downloads.push(doc.data());\n      });\n      dispatch(setDownloadsData(downloads));\n    });\n    const galleryQuery = query(collection(db, \"gallery\"));\n    onSnapshot(galleryQuery, querySnapshot => {\n      const gallery = [];\n      querySnapshot.forEach(doc => {\n        gallery.push(doc.data());\n      });\n      dispatch(setGalleryData(gallery));\n    });\n    const LGAsQuery = query(collection(db, \"lgas\"));\n    onSnapshot(LGAsQuery, querySnapshot => {\n      const lgas = [];\n      querySnapshot.forEach(doc => {\n        lgas.push(doc.data());\n      });\n      dispatch(setLGAsData(lgas));\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(ScrollToTop, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            exact: true,\n            children: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/forgot-password\",\n            exact: true,\n            children: /*#__PURE__*/_jsxDEV(ForgotPassword, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"eYVMIEf2MWdSJLUwbR3UamW/iO0=\", false, function () {\n  return [useDispatch];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/macintosh/Developer/RSPHCMB-Admin/src/App.js"],"names":["React","BrowserRouter","Router","Switch","Route","Login","ForgotPassword","ProtectedRoute","useDispatch","query","db","collection","onSnapshot","doc","auth","setUserData","ScrollToTop","setFAQs","setTeamData","setPermSecData","setWDCData","setPartnersData","setResearchData","setReportsData","setDownloadsData","setGalleryData","setLGAsData","Dashboard","MiniDrawer","App","dispatch","user","setUser","useState","useEffect","currentUser","uid","data","console","log","err","q","querySnapshot","faqs","forEach","push","teamQuery","teams","partnersQuery","partners","reportsQuery","reports","downloadsQuery","downloads","galleryQuery","gallery","LGAsQuery","lgas"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Login from \"./presentation/pages/login\";\nimport ForgotPassword from \"./presentation/pages/password\";\nimport ProtectedRoute from \"./presentation/components/protected_routes\";\n\nimport { useDispatch } from \"react-redux\";\nimport { query, db, collection, onSnapshot, doc, auth } from \"./data/firebase/\";\nimport { setUserData } from \"./data/redux/slice/user\";\n\nimport ScrollToTop from \"./util/scroll\";\n\nimport { setFAQs } from \"./data/redux/slice/faqs\";\nimport { setTeamData } from \"./data/redux/slice/team\";\nimport { setPermSecData } from \"./data/redux/slice/perm_sec\";\nimport { setWDCData } from \"./data/redux/slice/wdc\";\nimport { setPartnersData } from \"./data/redux/slice/partners\";\nimport {\n  setResearchData,\n  setReportsData,\n  setDownloadsData,\n  setGalleryData,\n} from \"./data/redux/slice/resources\";\nimport { setLGAsData } from \"./data/redux/slice/lga\";\nimport Dashboard from \"./presentation/pages/dashboard\";\nimport MiniDrawer from \"./presentation/pages/dashboard/index2\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const [user, setUser] = React.useState(null);\n\n  React.useEffect(() => {\n    try {\n      const user = auth.currentUser;\n      if (user) {\n        onSnapshot(doc(db, \"users\", \"\" + user.uid), (doc) => {\n          // userData(doc.data());\n          dispatch(setUserData(doc.data()));\n          console.log(doc.data());\n          setUser(doc.data());\n        });\n      }\n\n      // auth().onAuthStateChanged((user) => {\n      //   if (user) {\n      //     onSnapshot(doc(db, \"users\", \"\" + user.uid), (doc) => {\n      //       dispatch(setUserData(doc.data()));\n      //     });\n      //   } else {\n      //     dispatch(setUserData(null));\n      //   }\n      // });\n    } catch (err) {\n      // console.log(err);\n    }\n    // return () => {};\n  }, []);\n\n  React.useEffect(() => {\n    const q = query(collection(db, \"faqs\"));\n    onSnapshot(q, (querySnapshot) => {\n      const faqs = [];\n      querySnapshot.forEach((doc) => {\n        faqs.push(doc.data());\n      });\n      dispatch(setFAQs(faqs));\n    });\n\n    const teamQuery = query(collection(db, \"team-members\"));\n    onSnapshot(teamQuery, (querySnapshot) => {\n      const teams = [];\n      querySnapshot.forEach((doc) => {\n        teams.push(doc.data());\n      });\n      dispatch(setTeamData(teams));\n    });\n\n    const partnersQuery = query(collection(db, \"partners\"));\n    onSnapshot(partnersQuery, (querySnapshot) => {\n      const partners = [];\n      querySnapshot.forEach((doc) => {\n        partners.push(doc.data());\n      });\n      dispatch(setPartnersData(partners));\n    });\n\n    onSnapshot(doc(db, \"perm-sec\", \"info\"), (doc) => {\n      // console.log(\"Current data: \", doc.data());\n      dispatch(setPermSecData(doc.data()));\n    });\n\n    onSnapshot(doc(db, \"contents\", \"wdc\"), (doc) => {\n      // console.log(\"Current data: \", doc.data());\n      dispatch(setWDCData(doc.data()));\n    });\n\n    onSnapshot(doc(db, \"resources\", \"research\"), (doc) => {\n      // console.log(\"Current data: \", doc.data());\n      dispatch(setResearchData(doc.data()));\n    });\n\n    const reportsQuery = query(collection(db, \"reports\"));\n    onSnapshot(reportsQuery, (querySnapshot) => {\n      const reports = [];\n      querySnapshot.forEach((doc) => {\n        reports.push(doc.data());\n      });\n      dispatch(setReportsData(reports));\n    });\n\n    const downloadsQuery = query(collection(db, \"downloads\"));\n    onSnapshot(downloadsQuery, (querySnapshot) => {\n      const downloads = [];\n      querySnapshot.forEach((doc) => {\n        downloads.push(doc.data());\n      });\n      dispatch(setDownloadsData(downloads));\n    });\n\n    const galleryQuery = query(collection(db, \"gallery\"));\n    onSnapshot(galleryQuery, (querySnapshot) => {\n      const gallery = [];\n      querySnapshot.forEach((doc) => {\n        gallery.push(doc.data());\n      });\n      dispatch(setGalleryData(gallery));\n    });\n\n    const LGAsQuery = query(collection(db, \"lgas\"));\n    onSnapshot(LGAsQuery, (querySnapshot) => {\n      const lgas = [];\n      querySnapshot.forEach((doc) => {\n        lgas.push(doc.data());\n      });\n      dispatch(setLGAsData(lgas));\n    });\n  });\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <div>\n          <ScrollToTop />\n          <Switch>\n            <Route path=\"/\" exact>\n              <Login />\n            </Route>\n\n            <Route path=\"/forgot-password\" exact>\n              <ForgotPassword />\n            </Route>\n\n            {/* <Route\n              path=\"/dashboard/*\"\n              element={\n                <ProtectedRoute>\n                  <MiniDrawer />\n                </ProtectedRoute>\n              }\n            /> */}\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}