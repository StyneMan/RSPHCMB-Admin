{"ast":null,"code":"import _defineProperty from\"/Users/macintosh/Developer/RSPHCMB-Admin/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _asyncToGenerator from\"/Users/macintosh/Developer/RSPHCMB-Admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/macintosh/Developer/RSPHCMB-Admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/Users/macintosh/Developer/RSPHCMB-Admin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/macintosh/Developer/RSPHCMB-Admin/node_modules/@babel/runtime/regenerator/index.js\";import{Avatar,Backdrop,Button,CircularProgress,Grid,Typography,Divider}from\"@mui/material\";import React from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{useSnackbar}from\"notistack\";import{makeStyles}from\"@mui/styles\";import{useTheme}from\"@mui/material\";import{useMediaQuery}from\"@mui/material\";import{Box}from\"@mui/system\";import{db,doc,ref,auth,storage,uploadBytesResumable,updateDoc,getDownloadURL,updateEmail,updatePassword}from\"../../../../../data/firebase\";import Edit from\"@mui/icons-material/Edit\";import CustomDialogFN from\"../../../../components/dialogs/custom-dialog\";import CustomDialogLN from\"../../../../components/dialogs/custom-dialog\";import CustomDialogNUM from\"../../../../components/dialogs/custom-dialog\";import CustomDialogPass from\"../../../../components/dialogs/custom-dialog\";import{ValidatorForm,TextValidator}from\"react-material-ui-form-validator\";import InputAdornment from\"@mui/material/InputAdornment\";import IconButton from\"@mui/material/IconButton\";import Visibility from\"@mui/icons-material/Visibility\";import VisibilityOff from\"@mui/icons-material/VisibilityOff\";import{setMyData}from\"../../../../../data/redux/slice/user\";import{useHistory}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{},divRoot:{display:\"flex\",padding:theme.spacing(3),flexDirection:\"column\",alignItems:\"center\"},avatarContainer:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",borderColor:\"#3EB3CE\",borderWidth:3,borderStyle:\"solid\"},avatar:{backgroundColor:theme.palette.secondary.main},buttonRow:{display:\"flex\",flexDirection:\"row\",justifyContent:\"center\"},button:{margin:theme.spacing(1)},progress:{color:\"white\",zIndex:500,margin:\"auto\"}};});var CircularProgressWithLabel=function CircularProgressWithLabel(props){return/*#__PURE__*/_jsxs(Box,{position:\"relative\",display:\"inline-flex\",children:[/*#__PURE__*/_jsx(CircularProgress,_objectSpread(_objectSpread({variant:\"determinate\"},props),{},{size:90,thickness:3.0,style:{color:\"green\"}})),/*#__PURE__*/_jsx(Box,{top:0,left:0,bottom:0,right:0,position:\"absolute\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{color:\"white\",fontFamily:\"roboto\"},children:\"\".concat(Math.round(props.value),\"%\")})})]});};var Account=function Account(){var _myData$firstname,_myData$lastname;var classes=useStyles();var _useSelector=useSelector(function(state){return state.user;}),myData=_useSelector.myData;var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),imageFile=_React$useState2[0],setImageFile=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),imageUrl=_React$useState4[0],setImageUrl=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),isUploading=_React$useState6[0],setIsUploading=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),isLoading=_React$useState8[0],setLoading=_React$useState8[1];var _React$useState9=React.useState(0),_React$useState10=_slicedToArray(_React$useState9,2),progress=_React$useState10[0],setProgress=_React$useState10[1];var fileInputRef=React.useRef();var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _React$useState11=React.useState(false),_React$useState12=_slicedToArray(_React$useState11,2),openFN=_React$useState12[0],setOpenFN=_React$useState12[1];var _React$useState13=React.useState(false),_React$useState14=_slicedToArray(_React$useState13,2),openLN=_React$useState14[0],setOpenLN=_React$useState14[1];var _React$useState15=React.useState(false),_React$useState16=_slicedToArray(_React$useState15,2),openNum=_React$useState16[0],setOpenNum=_React$useState16[1];var _React$useState17=React.useState(false),_React$useState18=_slicedToArray(_React$useState17,2),openPass=_React$useState18[0],setOpenPass=_React$useState18[1];React.useEffect(function(){console.log(\"USER DATA::\",myData);},[myData]);var initials=(myData===null||myData===void 0?void 0:(_myData$firstname=myData.firstname)===null||_myData$firstname===void 0?void 0:_myData$firstname.slice(0,1).toUpperCase())+(myData===null||myData===void 0?void 0:(_myData$lastname=myData.lastname)===null||_myData$lastname===void 0?void 0:_myData$lastname.slice(0,1).toUpperCase());var imgSize;var theme=useTheme();var xsmall=useMediaQuery(theme.breakpoints.only(\"xs\"));var small=useMediaQuery(theme.breakpoints.only(\"sm\"));var medium=useMediaQuery(theme.breakpoints.only(\"md\"));var others=useMediaQuery(theme.breakpoints.up(\"lg\"));if(xsmall){imgSize=150;}else if(small){imgSize=174;}else if(medium){imgSize=200;}else if(others){imgSize=236;}var handleFile=function handleFile(e){setImageFile(e.target.files[0]);setImageUrl(URL.createObjectURL(e.target.files[0]));};var performSubmit=function performSubmit(e){setIsUploading(true);var timeNow=new Date();//First upload image to firebase storage then save to firestore\nvar storageRef=ref(storage,\"users-\"+(myData===null||myData===void 0?void 0:myData.id)+\"/\"+timeNow.getTime());var uploadTask=uploadBytesResumable(storageRef,imageFile);uploadTask.on(\"state_changed\",function(snapshot){var uprogress=snapshot.bytesTransferred/snapshot.totalBytes*100;// console.log(\"Upload is \" + progress + \"% done\");\nsetProgress(uprogress);},function(error){// Handle unsuccessful uploads\nsetIsUploading(false);// console.log(error);\nenqueueSnackbar(\"\".concat(error===null||error===void 0?void 0:error.message),{variant:\"error\"});},function(){setIsUploading(false);setLoading(true);getDownloadURL(uploadTask.snapshot.ref).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(downloadURL){var mRef;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:mRef=doc(db,\"users\",\"\"+(myData===null||myData===void 0?void 0:myData.id));_context.prev=1;_context.next=4;return updateDoc(mRef,{image:downloadURL});case 4:setLoading(false);setImageUrl(null);setImageFile(null);enqueueSnackbar(\"Image updated successfully\",{variant:\"success\"});_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);setLoading(false);enqueueSnackbar(\"\".concat((_context.t0===null||_context.t0===void 0?void 0:_context.t0.message)||\"Check your internet connection\"),{variant:\"error\"});case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function(_x){return _ref.apply(this,arguments);};}());});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CustomDialogFN,{open:openFN,title:\"Update My Firstname\",handleClose:function handleClose(){return setOpenFN(false);},bodyComponent:/*#__PURE__*/_jsx(UpdateFN,{setOpen:setOpenFN,userId:myData===null||myData===void 0?void 0:myData.id,firstname:myData===null||myData===void 0?void 0:myData.firstname})}),/*#__PURE__*/_jsx(CustomDialogLN,{open:openLN,title:\"Update My Lastname\",handleClose:function handleClose(){return setOpenLN(false);},bodyComponent:/*#__PURE__*/_jsx(UpdateLN,{setOpen:setOpenLN,userId:myData===null||myData===void 0?void 0:myData.id,lastname:myData===null||myData===void 0?void 0:myData.lastname})}),/*#__PURE__*/_jsx(CustomDialogNUM,{open:openNum,title:\"Update My Phone number\",handleClose:function handleClose(){return setOpenNum(false);},bodyComponent:/*#__PURE__*/_jsx(UpdatePhone,{setOpen:setOpenNum,userId:myData===null||myData===void 0?void 0:myData.id,phone:myData===null||myData===void 0?void 0:myData.phone})}),/*#__PURE__*/_jsx(CustomDialogPass,{open:openPass,title:\"Update My Password\",handleClose:function handleClose(){return setOpenPass(false);},bodyComponent:/*#__PURE__*/_jsx(UpdatePassword,{setOpen:setOpenPass,userId:myData===null||myData===void 0?void 0:myData.id,oldPassword:myData===null||myData===void 0?void 0:myData.password})}),/*#__PURE__*/_jsxs(Backdrop,{style:{zIndex:1200},open:isUploading||isLoading,children:[isUploading?/*#__PURE__*/_jsx(CircularProgressWithLabel,{value:progress}):/*#__PURE__*/_jsx(\"div\",{}),isLoading?/*#__PURE__*/_jsx(CircularProgress,{size:90,thickness:3.0,style:{color:\"white\"}}):/*#__PURE__*/_jsx(\"div\",{})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",fontWeight:\"600\",gutterBottom:true,children:\"Personal Account Information\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",height:\"70vh\"},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:4,justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:6,md:6,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.divRoot,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.avatarContainer,style:{width:imgSize+3,height:imgSize+3,borderRadius:(imgSize+3)/2},children:/*#__PURE__*/_jsx(Avatar,{src:imageUrl?imageUrl:(myData===null||myData===void 0?void 0:myData.image)!==\"\"?myData===null||myData===void 0?void 0:myData.image:\"\",style:{width:imgSize-12,height:imgSize-12,borderRadius:(imgSize-12)/2,fontSize:64},children:(myData===null||myData===void 0?void 0:myData.image)!==\"\"?\"\":initials})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{hidden:true,ref:fileInputRef,type:\"file\",onChange:handleFile}),/*#__PURE__*/_jsxs(\"div\",{className:classes.buttonRow,children:[/*#__PURE__*/_jsx(Button,{className:classes.button,variant:\"contained\",color:\"secondary\",disableElevation:true,sx:{backgroundColor:\"#00B0EF\",textTransform:\"none\"},onClick:function onClick(){return fileInputRef.current.click();},children:\"Change Profile\"}),/*#__PURE__*/_jsx(Button,{hidden:imageFile?false:true,disabled:isLoading||isUploading,className:classes.button,variant:\"contained\",color:\"primary\",disableElevation:true,onClick:performSubmit,sx:{textTransform:\"none\"},children:\"Save\"})]})]})}),/*#__PURE__*/_jsxs(Grid,{item:true,sm:6,md:6,alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Box,{paddingY:1,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"row\",justifyContent:\"start\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Typography,{children:\"FIRSTNAME\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",pl:2,children:myData===null||myData===void 0?void 0:myData.firstname})]}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return setOpenFN(true);},children:/*#__PURE__*/_jsx(Edit,{})})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Box,{paddingY:1,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"row\",justifyContent:\"start\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Typography,{children:\"LASTNAME\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",pl:2,children:myData===null||myData===void 0?void 0:myData.lastname})]}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return setOpenLN(true);},children:/*#__PURE__*/_jsx(Edit,{})})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Box,{paddingY:1,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"row\",justifyContent:\"start\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Typography,{children:\"PHONE NUMBER\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",pl:2,children:myData===null||myData===void 0?void 0:myData.phone})]}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return setOpenNum(true);},children:/*#__PURE__*/_jsx(Edit,{})})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Box,{paddingTop:5,display:\"flex\",flexDirection:\"row\",justifyContent:\"stretch\",alignItems:\"center\",children:/*#__PURE__*/_jsxs(Button,{variant:\"contained\",fullWidth:true,disableElevation:true,sx:{textTransform:\"none\"},onClick:function onClick(){return setOpenPass(true);},children:[\"Update Password\",\" \"]})})]})]})})]});};var UpdateFN=function UpdateFN(props){var firstname=props.firstname,setOpen=props.setOpen,userId=props.userId;var _React$useState19=React.useState({firstname:firstname}),_React$useState20=_slicedToArray(_React$useState19,2),formValues=_React$useState20[0],setFormValues=_React$useState20[1];var _React$useState21=React.useState(false),_React$useState22=_slicedToArray(_React$useState21,2),isLoading=_React$useState22[0],setLoading=_React$useState22[1];var _useSnackbar2=useSnackbar(),enqueueSnackbar=_useSnackbar2.enqueueSnackbar;var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValues(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},name,value));});};var updateData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var mRef;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.prev=1;mRef=doc(db,\"users\",\"\"+userId);_context2.next=5;return updateDoc(mRef,{firstname:formValues.firstname});case 5:setOpen(false);setLoading(false);enqueueSnackbar(\"First name updated successfully\",{variant:\"success\"});_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);setLoading(false);enqueueSnackbar(\"\".concat((_context2.t0===null||_context2.t0===void 0?void 0:_context2.t0.message)||\"Check your internet connection\"),{variant:\"error\"});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[1,10]]);}));return function updateData(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Backdrop,{style:{zIndex:1200},open:isLoading,children:isLoading?/*#__PURE__*/_jsx(CircularProgress,{size:90,thickness:3.0,style:{color:\"white\"}}):/*#__PURE__*/_jsx(\"div\",{})}),/*#__PURE__*/_jsxs(ValidatorForm,{onSubmit:updateData,children:[/*#__PURE__*/_jsx(TextValidator,{label:\"First Name\",size:\"small\",variant:\"outlined\",value:formValues.firstname,onChange:handleChange,name:\"firstname\",fullWidth:true,validators:[\"required\"],errorMessages:[\"First name is required\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",disabled:isLoading,fullWidth:true,children:\"Update Firstname\"})]})]});};var UpdateLN=function UpdateLN(props){var lastname=props.lastname,setOpen=props.setOpen,userId=props.userId;var _React$useState23=React.useState({lastname:lastname}),_React$useState24=_slicedToArray(_React$useState23,2),formValues=_React$useState24[0],setFormValues=_React$useState24[1];var _React$useState25=React.useState(false),_React$useState26=_slicedToArray(_React$useState25,2),isLoading=_React$useState26[0],setLoading=_React$useState26[1];var _useSnackbar3=useSnackbar(),enqueueSnackbar=_useSnackbar3.enqueueSnackbar;var handleChange=function handleChange(e){var _e$target2=e.target,name=_e$target2.name,value=_e$target2.value;setFormValues(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},name,value));});};var updateData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var mRef;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setLoading(true);_context3.prev=1;mRef=doc(db,\"users\",\"\"+userId);_context3.next=5;return updateDoc(mRef,{lastname:formValues.lastname});case 5:setOpen(false);setLoading(false);enqueueSnackbar(\"Last name updated successfully\",{variant:\"success\"});_context3.next=14;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](1);setLoading(false);enqueueSnackbar(\"\".concat((_context3.t0===null||_context3.t0===void 0?void 0:_context3.t0.message)||\"Check your internet connection\"),{variant:\"error\"});case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[1,10]]);}));return function updateData(_x3){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Backdrop,{style:{zIndex:1200},open:isLoading,children:isLoading?/*#__PURE__*/_jsx(CircularProgress,{size:90,thickness:3.0,style:{color:\"white\"}}):/*#__PURE__*/_jsx(\"div\",{})}),/*#__PURE__*/_jsxs(ValidatorForm,{onSubmit:updateData,children:[/*#__PURE__*/_jsx(TextValidator,{label:\"last Name\",size:\"small\",variant:\"outlined\",value:formValues.lastname,onChange:handleChange,name:\"lastname\",fullWidth:true,validators:[\"required\"],errorMessages:[\"Last name is required\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",disabled:isLoading,fullWidth:true,children:\"Update Lastname\"})]})]});};var UpdatePhone=function UpdatePhone(props){var phone=props.phone,setOpen=props.setOpen,userId=props.userId;var _React$useState27=React.useState({phone:phone}),_React$useState28=_slicedToArray(_React$useState27,2),formValues=_React$useState28[0],setFormValues=_React$useState28[1];var _React$useState29=React.useState(false),_React$useState30=_slicedToArray(_React$useState29,2),isLoading=_React$useState30[0],setLoading=_React$useState30[1];var _useSnackbar4=useSnackbar(),enqueueSnackbar=_useSnackbar4.enqueueSnackbar;var handleChange=function handleChange(e){var _e$target3=e.target,name=_e$target3.name,value=_e$target3.value;setFormValues(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},name,value));});};var updateData=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e){var mRef;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setLoading(true);_context4.prev=1;mRef=doc(db,\"users\",\"\"+userId);_context4.next=5;return updateDoc(mRef,{phone:formValues.phone});case 5:setOpen(false);setLoading(false);enqueueSnackbar(\"Phone number updated successfully\",{variant:\"success\"});_context4.next=14;break;case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](1);setLoading(false);enqueueSnackbar(\"\".concat((_context4.t0===null||_context4.t0===void 0?void 0:_context4.t0.message)||\"Check your internet connection\"),{variant:\"error\"});case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[1,10]]);}));return function updateData(_x4){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Backdrop,{style:{zIndex:1200},open:isLoading,children:isLoading?/*#__PURE__*/_jsx(CircularProgress,{size:90,thickness:3.0,style:{color:\"white\"}}):/*#__PURE__*/_jsx(\"div\",{})}),/*#__PURE__*/_jsxs(ValidatorForm,{onSubmit:updateData,children:[/*#__PURE__*/_jsx(TextValidator,{label:\"Phone Number\",size:\"small\",variant:\"outlined\",value:formValues.phone,onChange:handleChange,name:\"phone\",fullWidth:true,validators:[\"required\"],errorMessages:[\"Phone number is required\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",disabled:isLoading,fullWidth:true,children:\"Update Phone Number\"})]})]});};var UpdatePassword=function UpdatePassword(props){var oldPassword=props.oldPassword,setOpen=props.setOpen,userId=props.userId;var _React$useState31=React.useState({oldPassword:\"\",newPassword:\"\"}),_React$useState32=_slicedToArray(_React$useState31,2),formValues=_React$useState32[0],setFormValues=_React$useState32[1];var _React$useState33=React.useState(false),_React$useState34=_slicedToArray(_React$useState33,2),showCode=_React$useState34[0],setShowCode=_React$useState34[1];var _React$useState35=React.useState(false),_React$useState36=_slicedToArray(_React$useState35,2),showCode2=_React$useState36[0],setShowCode2=_React$useState36[1];var _React$useState37=React.useState(false),_React$useState38=_slicedToArray(_React$useState37,2),isLoading=_React$useState38[0],setLoading=_React$useState38[1];var _React$useState39=React.useState(false),_React$useState40=_slicedToArray(_React$useState39,2),isError=_React$useState40[0],setError=_React$useState40[1];var _useSnackbar5=useSnackbar(),enqueueSnackbar=_useSnackbar5.enqueueSnackbar;var history=useHistory();var dispatch=useDispatch();var user=auth.currentUser;var handleChange=function handleChange(e){var _e$target4=e.target,name=_e$target4.name,value=_e$target4.value;setFormValues(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},name,value));});if(oldPassword!==formValues.oldPassword){setError(true);}else{setError(false);}};var updateData=function updateData(e){setLoading(true);if(formValues.oldPassword===oldPassword){setError(false);updatePassword(user,formValues.newPassword).then(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var mRef;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;mRef=doc(db,\"users\",\"\"+userId);_context5.next=4;return updateDoc(mRef,{password:formValues.newPassword});case 4:setOpen(false);setLoading(false);_context5.next=8;return auth.signOut();case 8:dispatch(setMyData(null));enqueueSnackbar(\"Successfully logged out\",{variant:\"success\"});history.replace({pathname:\"/\"});enqueueSnackbar(\"Password updated successfully\",{variant:\"success\"});_context5.next=18;break;case 14:_context5.prev=14;_context5.t0=_context5[\"catch\"](0);setLoading(false);enqueueSnackbar(\"\".concat((_context5.t0===null||_context5.t0===void 0?void 0:_context5.t0.message)||\"Check your internet connection\"),{variant:\"error\"});case 18:case\"end\":return _context5.stop();}}},_callee5,null,[[0,14]]);}))).catch(function(error){// An error ocurred\nsetLoading(false);enqueueSnackbar(\"\".concat((error===null||error===void 0?void 0:error.message)||\"Check your internet connection\"),{variant:\"error\"});});}else{setError(true);setLoading(false);enqueueSnackbar(\"Incorrect Old Password!\",{variant:\"error\"});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Backdrop,{style:{zIndex:1200},open:isLoading,children:isLoading?/*#__PURE__*/_jsx(CircularProgress,{size:90,thickness:3.0,style:{color:\"white\"}}):/*#__PURE__*/_jsx(\"div\",{})}),/*#__PURE__*/_jsxs(ValidatorForm,{onSubmit:updateData,children:[/*#__PURE__*/_jsx(TextValidator,{margin:\"normal\",required:true,fullWidth:true,name:\"oldPassword\",label:\"Old Password\",type:showCode?\"text\":\"password\",onChange:handleChange,value:formValues.oldPassword,placeholder:\"Old Password\",variant:\"outlined\",style:{borderColor:\"red\",borderWidth:1},validators:[\"required\"],errorMessages:[\"Old Password is required\"],InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"toggle code\",onClick:function onClick(){return setShowCode(!showCode);},onMouseDown:function onMouseDown(){return setShowCode(!showCode);},edge:\"end\",children:showCode?/*#__PURE__*/_jsx(Visibility,{}):/*#__PURE__*/_jsx(VisibilityOff,{})})})}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextValidator,{margin:\"normal\",required:true,fullWidth:true,name:\"newPassword\",label:\"New Password\",type:showCode2?\"text\":\"password\",onChange:handleChange,value:formValues.newPassword,placeholder:\"New Password\",variant:\"outlined\",validators:[\"required\"],errorMessages:[\"New Password is required\"],InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"toggle code\",onClick:function onClick(){return setShowCode2(!showCode2);},onMouseDown:function onMouseDown(){return setShowCode2(!showCode2);},edge:\"end\",children:showCode2?/*#__PURE__*/_jsx(Visibility,{}):/*#__PURE__*/_jsx(VisibilityOff,{})})})}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",disabled:isLoading,fullWidth:true,children:\"Update Password\"})]})]});};export default Account;","map":{"version":3,"sources":["/Users/macintosh/Developer/RSPHCMB-Admin/src/presentation/pages/dashboard/tabs/account/index.js"],"names":["Avatar","Backdrop","Button","CircularProgress","Grid","Typography","Divider","React","useSelector","useDispatch","useSnackbar","makeStyles","useTheme","useMediaQuery","Box","db","doc","ref","auth","storage","uploadBytesResumable","updateDoc","getDownloadURL","updateEmail","updatePassword","Edit","CustomDialogFN","CustomDialogLN","CustomDialogNUM","CustomDialogPass","ValidatorForm","TextValidator","InputAdornment","IconButton","Visibility","VisibilityOff","setMyData","useHistory","useStyles","theme","root","divRoot","display","padding","spacing","flexDirection","alignItems","avatarContainer","justifyContent","borderColor","borderWidth","borderStyle","avatar","backgroundColor","palette","secondary","main","buttonRow","button","margin","progress","color","zIndex","CircularProgressWithLabel","props","fontFamily","Math","round","value","Account","classes","state","user","myData","useState","imageFile","setImageFile","imageUrl","setImageUrl","isUploading","setIsUploading","isLoading","setLoading","setProgress","fileInputRef","useRef","enqueueSnackbar","openFN","setOpenFN","openLN","setOpenLN","openNum","setOpenNum","openPass","setOpenPass","useEffect","console","log","initials","firstname","slice","toUpperCase","lastname","imgSize","xsmall","breakpoints","only","small","medium","others","up","handleFile","e","target","files","URL","createObjectURL","performSubmit","timeNow","Date","storageRef","id","getTime","uploadTask","on","snapshot","uprogress","bytesTransferred","totalBytes","error","message","variant","then","downloadURL","mRef","image","phone","password","height","width","borderRadius","fontSize","textTransform","current","click","UpdateFN","setOpen","userId","formValues","setFormValues","handleChange","name","prevData","updateData","UpdateLN","UpdatePhone","UpdatePassword","oldPassword","newPassword","showCode","setShowCode","showCode2","setShowCode2","isError","setError","history","dispatch","currentUser","signOut","replace","pathname","catch","endAdornment"],"mappings":"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","sourcesContent":["import {\n  Avatar,\n  Backdrop,\n  Button,\n  CircularProgress,\n  Grid,\n  Typography,\n  Divider,\n} from \"@mui/material\";\nimport React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useSnackbar } from \"notistack\";\nimport { makeStyles } from \"@mui/styles\";\nimport { useTheme } from \"@mui/material\";\nimport { useMediaQuery } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport {\n  db,\n  doc,\n  ref,\n  auth,\n  storage,\n  uploadBytesResumable,\n  updateDoc,\n  getDownloadURL,\n  updateEmail,\n  updatePassword,\n} from \"../../../../../data/firebase\";\nimport Edit from \"@mui/icons-material/Edit\";\n\nimport CustomDialogFN from \"../../../../components/dialogs/custom-dialog\";\nimport CustomDialogLN from \"../../../../components/dialogs/custom-dialog\";\nimport CustomDialogNUM from \"../../../../components/dialogs/custom-dialog\";\nimport CustomDialogPass from \"../../../../components/dialogs/custom-dialog\";\n\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\nimport InputAdornment from \"@mui/material/InputAdornment\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Visibility from \"@mui/icons-material/Visibility\";\nimport VisibilityOff from \"@mui/icons-material/VisibilityOff\";\n\nimport { setMyData } from \"../../../../../data/redux/slice/user\";\nimport { useHistory } from \"react-router\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  divRoot: {\n    display: \"flex\",\n    padding: theme.spacing(3),\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatarContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderColor: \"#3EB3CE\",\n    borderWidth: 3,\n    borderStyle: \"solid\",\n  },\n  avatar: {\n    backgroundColor: theme.palette.secondary.main,\n  },\n  buttonRow: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n  progress: {\n    color: \"white\",\n    zIndex: 500,\n    margin: \"auto\",\n  },\n}));\n\nconst CircularProgressWithLabel = (props) => {\n  return (\n    <Box position=\"relative\" display=\"inline-flex\">\n      <CircularProgress\n        variant=\"determinate\"\n        {...props}\n        size={90}\n        thickness={3.0}\n        style={{ color: \"green\" }}\n      />\n      <Box\n        top={0}\n        left={0}\n        bottom={0}\n        right={0}\n        position=\"absolute\"\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <Typography\n          variant=\"body1\"\n          component=\"div\"\n          style={{ color: \"white\", fontFamily: \"roboto\" }}\n        >{`${Math.round(props.value)}%`}</Typography>\n      </Box>\n    </Box>\n  );\n};\n\nconst Account = () => {\n  const classes = useStyles();\n  const { myData } = useSelector((state) => state.user);\n  const [imageFile, setImageFile] = React.useState(null);\n  const [imageUrl, setImageUrl] = React.useState(\"\");\n  const [isUploading, setIsUploading] = React.useState(false);\n  const [isLoading, setLoading] = React.useState(false);\n  const [progress, setProgress] = React.useState(0);\n  const fileInputRef = React.useRef();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const [openFN, setOpenFN] = React.useState(false);\n  const [openLN, setOpenLN] = React.useState(false);\n  const [openNum, setOpenNum] = React.useState(false);\n  const [openPass, setOpenPass] = React.useState(false);\n\n  React.useEffect(() => {\n    console.log(\"USER DATA::\", myData);\n  }, [myData]);\n\n  const initials =\n    myData?.firstname?.slice(0, 1).toUpperCase() +\n    myData?.lastname?.slice(0, 1).toUpperCase();\n\n  let imgSize;\n  const theme = useTheme();\n  const xsmall = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const small = useMediaQuery(theme.breakpoints.only(\"sm\"));\n  const medium = useMediaQuery(theme.breakpoints.only(\"md\"));\n  const others = useMediaQuery(theme.breakpoints.up(\"lg\"));\n\n  if (xsmall) {\n    imgSize = 150;\n  } else if (small) {\n    imgSize = 174;\n  } else if (medium) {\n    imgSize = 200;\n  } else if (others) {\n    imgSize = 236;\n  }\n\n  const handleFile = (e) => {\n    setImageFile(e.target.files[0]);\n    setImageUrl(URL.createObjectURL(e.target.files[0]));\n  };\n\n  const performSubmit = (e) => {\n    setIsUploading(true);\n    const timeNow = new Date();\n    //First upload image to firebase storage then save to firestore\n    const storageRef = ref(\n      storage,\n      \"users-\" + myData?.id + \"/\" + timeNow.getTime()\n    );\n    const uploadTask = uploadBytesResumable(storageRef, imageFile);\n\n    uploadTask.on(\n      \"state_changed\",\n      (snapshot) => {\n        const uprogress =\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n        // console.log(\"Upload is \" + progress + \"% done\");\n        setProgress(uprogress);\n      },\n      (error) => {\n        // Handle unsuccessful uploads\n        setIsUploading(false);\n        // console.log(error);\n        enqueueSnackbar(`${error?.message}`, { variant: \"error\" });\n      },\n      () => {\n        setIsUploading(false);\n        setLoading(true);\n        getDownloadURL(uploadTask.snapshot.ref).then(async (downloadURL) => {\n          const mRef = doc(db, \"users\", \"\" + myData?.id);\n          try {\n            await updateDoc(mRef, {\n              image: downloadURL,\n            });\n            setLoading(false);\n            setImageUrl(null);\n            setImageFile(null);\n            enqueueSnackbar(`Image updated successfully`, {\n              variant: \"success\",\n            });\n          } catch (error) {\n            setLoading(false);\n            enqueueSnackbar(\n              `${error?.message || \"Check your internet connection\"}`,\n              {\n                variant: \"error\",\n              }\n            );\n          }\n        });\n      }\n    );\n  };\n\n  return (\n    <div>\n      <CustomDialogFN\n        open={openFN}\n        title=\"Update My Firstname\"\n        handleClose={() => setOpenFN(false)}\n        bodyComponent={\n          <UpdateFN\n            setOpen={setOpenFN}\n            userId={myData?.id}\n            firstname={myData?.firstname}\n          />\n        }\n      />\n\n      <CustomDialogLN\n        open={openLN}\n        title=\"Update My Lastname\"\n        handleClose={() => setOpenLN(false)}\n        bodyComponent={\n          <UpdateLN\n            setOpen={setOpenLN}\n            userId={myData?.id}\n            lastname={myData?.lastname}\n          />\n        }\n      />\n\n      <CustomDialogNUM\n        open={openNum}\n        title=\"Update My Phone number\"\n        handleClose={() => setOpenNum(false)}\n        bodyComponent={\n          <UpdatePhone\n            setOpen={setOpenNum}\n            userId={myData?.id}\n            phone={myData?.phone}\n          />\n        }\n      />\n\n      <CustomDialogPass\n        open={openPass}\n        title=\"Update My Password\"\n        handleClose={() => setOpenPass(false)}\n        bodyComponent={\n          <UpdatePassword\n            setOpen={setOpenPass}\n            userId={myData?.id}\n            oldPassword={myData?.password}\n          />\n        }\n      />\n\n      <Backdrop style={{ zIndex: 1200 }} open={isUploading || isLoading}>\n        {isUploading ? <CircularProgressWithLabel value={progress} /> : <div />}\n        {isLoading ? (\n          <CircularProgress\n            size={90}\n            thickness={3.0}\n            style={{ color: \"white\" }}\n          />\n        ) : (\n          <div />\n        )}\n      </Backdrop>\n      <Typography variant=\"h6\" fontWeight=\"600\" gutterBottom={true}>\n        Personal Account Information\n      </Typography>\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          height: \"70vh\",\n        }}\n      >\n        <Grid\n          container\n          spacing={4}\n          justifyContent=\"space-between\"\n          alignItems={\"center\"}\n        >\n          <Grid item sm={6} md={6}>\n            <div className={classes.divRoot}>\n              <div\n                className={classes.avatarContainer}\n                style={{\n                  width: imgSize + 3,\n                  height: imgSize + 3,\n                  borderRadius: (imgSize + 3) / 2,\n                }}\n              >\n                <Avatar\n                  src={\n                    imageUrl\n                      ? imageUrl\n                      : myData?.image !== \"\"\n                      ? myData?.image\n                      : \"\"\n                  }\n                  style={{\n                    width: imgSize - 12,\n                    height: imgSize - 12,\n                    borderRadius: (imgSize - 12) / 2,\n                    fontSize: 64,\n                  }}\n                >\n                  {myData?.image !== \"\" ? \"\" : initials}\n                </Avatar>\n              </div>\n              <br />\n              <input\n                hidden={true}\n                ref={fileInputRef}\n                type=\"file\"\n                onChange={handleFile}\n              />\n\n              <div className={classes.buttonRow}>\n                <Button\n                  className={classes.button}\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  disableElevation={true}\n                  sx={{ backgroundColor: \"#00B0EF\", textTransform: \"none\" }}\n                  onClick={() => fileInputRef.current.click()}\n                >\n                  Change Profile\n                </Button>\n\n                <Button\n                  hidden={imageFile ? false : true}\n                  disabled={isLoading || isUploading}\n                  className={classes.button}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  disableElevation={true}\n                  onClick={performSubmit}\n                  sx={{ textTransform: \"none\" }}\n                >\n                  Save\n                </Button>\n              </div>\n            </div>\n          </Grid>\n          <Grid item sm={6} md={6} alignItems={\"center\"}>\n            <Box\n              paddingY={1}\n              display=\"flex\"\n              flexDirection=\"row\"\n              justifyContent={\"space-between\"}\n              alignItems=\"center\"\n            >\n              <Box\n                display=\"flex\"\n                flexDirection=\"row\"\n                justifyContent={\"start\"}\n                alignItems=\"center\"\n              >\n                <Typography>FIRSTNAME</Typography>\n                <Typography variant=\"h6\" pl={2}>\n                  {myData?.firstname}\n                </Typography>\n              </Box>\n              <IconButton onClick={() => setOpenFN(true)}>\n                <Edit />\n              </IconButton>\n            </Box>\n            <Divider />\n            <Box\n              paddingY={1}\n              display=\"flex\"\n              flexDirection=\"row\"\n              justifyContent={\"space-between\"}\n              alignItems=\"center\"\n            >\n              <Box\n                display=\"flex\"\n                flexDirection=\"row\"\n                justifyContent={\"start\"}\n                alignItems=\"center\"\n              >\n                <Typography>LASTNAME</Typography>\n                <Typography variant=\"h6\" pl={2}>\n                  {myData?.lastname}\n                </Typography>\n              </Box>\n              <IconButton onClick={() => setOpenLN(true)}>\n                <Edit />\n              </IconButton>\n            </Box>\n            <Divider />\n            <Box\n              paddingY={1}\n              display=\"flex\"\n              flexDirection=\"row\"\n              justifyContent={\"space-between\"}\n              alignItems=\"center\"\n            >\n              <Box\n                display=\"flex\"\n                flexDirection=\"row\"\n                justifyContent={\"start\"}\n                alignItems=\"center\"\n              >\n                <Typography>PHONE NUMBER</Typography>\n                <Typography variant=\"h6\" pl={2}>\n                  {myData?.phone}\n                </Typography>\n              </Box>\n              <IconButton onClick={() => setOpenNum(true)}>\n                <Edit />\n              </IconButton>\n            </Box>\n            <Divider />\n            <Box\n              paddingTop={5}\n              display=\"flex\"\n              flexDirection=\"row\"\n              justifyContent={\"stretch\"}\n              alignItems=\"center\"\n            >\n              <Button\n                variant=\"contained\"\n                fullWidth\n                disableElevation={true}\n                sx={{ textTransform: \"none\" }}\n                onClick={() => setOpenPass(true)}\n              >\n                Update Password{\" \"}\n              </Button>\n            </Box>\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nconst UpdateFN = (props) => {\n  let { firstname, setOpen, userId } = props;\n  const [formValues, setFormValues] = React.useState({\n    firstname: firstname,\n  });\n  const [isLoading, setLoading] = React.useState(false);\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormValues((prevData) => ({ ...prevData, [name]: value }));\n  };\n\n  const updateData = async (e) => {\n    setLoading(true);\n\n    try {\n      const mRef = doc(db, \"users\", \"\" + userId);\n      await updateDoc(mRef, {\n        firstname: formValues.firstname,\n      });\n      setOpen(false);\n      setLoading(false);\n      enqueueSnackbar(`First name updated successfully`, {\n        variant: \"success\",\n      });\n    } catch (error) {\n      setLoading(false);\n      enqueueSnackbar(`${error?.message || \"Check your internet connection\"}`, {\n        variant: \"error\",\n      });\n    }\n  };\n\n  return (\n    <div>\n      <Backdrop style={{ zIndex: 1200 }} open={isLoading}>\n        {isLoading ? (\n          <CircularProgress\n            size={90}\n            thickness={3.0}\n            style={{ color: \"white\" }}\n          />\n        ) : (\n          <div />\n        )}\n      </Backdrop>\n      <ValidatorForm onSubmit={updateData}>\n        <TextValidator\n          label=\"First Name\"\n          size=\"small\"\n          variant=\"outlined\"\n          value={formValues.firstname}\n          onChange={handleChange}\n          name=\"firstname\"\n          fullWidth\n          validators={[\"required\"]}\n          errorMessages={[\"First name is required\"]}\n        />\n        <br />\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          disabled={isLoading}\n          fullWidth\n        >\n          Update Firstname\n        </Button>\n      </ValidatorForm>\n    </div>\n  );\n};\n\nconst UpdateLN = (props) => {\n  let { lastname, setOpen, userId } = props;\n  const [formValues, setFormValues] = React.useState({\n    lastname: lastname,\n  });\n  const [isLoading, setLoading] = React.useState(false);\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormValues((prevData) => ({ ...prevData, [name]: value }));\n  };\n\n  const updateData = async (e) => {\n    setLoading(true);\n\n    try {\n      const mRef = doc(db, \"users\", \"\" + userId);\n      await updateDoc(mRef, {\n        lastname: formValues.lastname,\n      });\n      setOpen(false);\n      setLoading(false);\n      enqueueSnackbar(`Last name updated successfully`, {\n        variant: \"success\",\n      });\n    } catch (error) {\n      setLoading(false);\n      enqueueSnackbar(`${error?.message || \"Check your internet connection\"}`, {\n        variant: \"error\",\n      });\n    }\n  };\n\n  return (\n    <div>\n      <Backdrop style={{ zIndex: 1200 }} open={isLoading}>\n        {isLoading ? (\n          <CircularProgress\n            size={90}\n            thickness={3.0}\n            style={{ color: \"white\" }}\n          />\n        ) : (\n          <div />\n        )}\n      </Backdrop>\n      <ValidatorForm onSubmit={updateData}>\n        <TextValidator\n          label=\"last Name\"\n          size=\"small\"\n          variant=\"outlined\"\n          value={formValues.lastname}\n          onChange={handleChange}\n          name=\"lastname\"\n          fullWidth\n          validators={[\"required\"]}\n          errorMessages={[\"Last name is required\"]}\n        />\n        <br />\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          disabled={isLoading}\n          fullWidth\n        >\n          Update Lastname\n        </Button>\n      </ValidatorForm>\n    </div>\n  );\n};\n\nconst UpdatePhone = (props) => {\n  let { phone, setOpen, userId } = props;\n  const [formValues, setFormValues] = React.useState({\n    phone: phone,\n  });\n  const [isLoading, setLoading] = React.useState(false);\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormValues((prevData) => ({ ...prevData, [name]: value }));\n  };\n\n  const updateData = async (e) => {\n    setLoading(true);\n\n    try {\n      const mRef = doc(db, \"users\", \"\" + userId);\n      await updateDoc(mRef, {\n        phone: formValues.phone,\n      });\n      setOpen(false);\n      setLoading(false);\n      enqueueSnackbar(`Phone number updated successfully`, {\n        variant: \"success\",\n      });\n    } catch (error) {\n      setLoading(false);\n      enqueueSnackbar(`${error?.message || \"Check your internet connection\"}`, {\n        variant: \"error\",\n      });\n    }\n  };\n\n  return (\n    <div>\n      <Backdrop style={{ zIndex: 1200 }} open={isLoading}>\n        {isLoading ? (\n          <CircularProgress\n            size={90}\n            thickness={3.0}\n            style={{ color: \"white\" }}\n          />\n        ) : (\n          <div />\n        )}\n      </Backdrop>\n      <ValidatorForm onSubmit={updateData}>\n        <TextValidator\n          label=\"Phone Number\"\n          size=\"small\"\n          variant=\"outlined\"\n          value={formValues.phone}\n          onChange={handleChange}\n          name=\"phone\"\n          fullWidth\n          validators={[\"required\"]}\n          errorMessages={[\"Phone number is required\"]}\n        />\n        <br />\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          disabled={isLoading}\n          fullWidth\n        >\n          Update Phone Number\n        </Button>\n      </ValidatorForm>\n    </div>\n  );\n};\n\nconst UpdatePassword = (props) => {\n  let { oldPassword, setOpen, userId } = props;\n  const [formValues, setFormValues] = React.useState({\n    oldPassword: \"\",\n    newPassword: \"\",\n  });\n  const [showCode, setShowCode] = React.useState(false);\n  const [showCode2, setShowCode2] = React.useState(false);\n  const [isLoading, setLoading] = React.useState(false);\n  const [isError, setError] = React.useState(false);\n\n  const { enqueueSnackbar } = useSnackbar();\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const user = auth.currentUser;\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormValues((prevData) => ({ ...prevData, [name]: value }));\n    if (oldPassword !== formValues.oldPassword) {\n      setError(true);\n    } else {\n      setError(false);\n    }\n  };\n\n  const updateData = (e) => {\n    setLoading(true);\n\n    if (formValues.oldPassword === oldPassword) {\n      setError(false);\n      updatePassword(user, formValues.newPassword)\n        .then(async () => {\n          // Update successful.\n          try {\n            const mRef = doc(db, \"users\", \"\" + userId);\n            await updateDoc(mRef, {\n              password: formValues.newPassword,\n            });\n            setOpen(false);\n            setLoading(false);\n            await auth.signOut();\n            dispatch(setMyData(null));\n            enqueueSnackbar(`Successfully logged out`, { variant: \"success\" });\n            history.replace({\n              pathname: \"/\",\n            });\n            enqueueSnackbar(`Password updated successfully`, {\n              variant: \"success\",\n            });\n          } catch (error) {\n            setLoading(false);\n            enqueueSnackbar(\n              `${error?.message || \"Check your internet connection\"}`,\n              {\n                variant: \"error\",\n              }\n            );\n          }\n        })\n        .catch((error) => {\n          // An error ocurred\n          setLoading(false);\n          enqueueSnackbar(\n            `${error?.message || \"Check your internet connection\"}`,\n            {\n              variant: \"error\",\n            }\n          );\n        });\n    } else {\n      setError(true);\n      setLoading(false);\n      enqueueSnackbar(`${\"Incorrect Old Password!\"}`, {\n        variant: \"error\",\n      });\n    }\n  };\n\n  return (\n    <div>\n      <Backdrop style={{ zIndex: 1200 }} open={isLoading}>\n        {isLoading ? (\n          <CircularProgress\n            size={90}\n            thickness={3.0}\n            style={{ color: \"white\" }}\n          />\n        ) : (\n          <div />\n        )}\n      </Backdrop>\n      <ValidatorForm onSubmit={updateData}>\n        <TextValidator\n          margin=\"normal\"\n          required\n          fullWidth\n          name=\"oldPassword\"\n          label=\"Old Password\"\n          type={showCode ? \"text\" : \"password\"}\n          onChange={handleChange}\n          value={formValues.oldPassword}\n          placeholder=\"Old Password\"\n          variant=\"outlined\"\n          style={{ borderColor: \"red\", borderWidth: 1 }}\n          validators={[\"required\"]}\n          errorMessages={[\"Old Password is required\"]}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <IconButton\n                  aria-label=\"toggle code\"\n                  onClick={() => setShowCode(!showCode)}\n                  onMouseDown={() => setShowCode(!showCode)}\n                  edge=\"end\"\n                >\n                  {showCode ? <Visibility /> : <VisibilityOff />}\n                </IconButton>\n              </InputAdornment>\n            ),\n          }}\n        />\n        <br />\n        <TextValidator\n          margin=\"normal\"\n          required\n          fullWidth\n          name=\"newPassword\"\n          label=\"New Password\"\n          type={showCode2 ? \"text\" : \"password\"}\n          onChange={handleChange}\n          value={formValues.newPassword}\n          placeholder=\"New Password\"\n          variant=\"outlined\"\n          validators={[\"required\"]}\n          errorMessages={[\"New Password is required\"]}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <IconButton\n                  aria-label=\"toggle code\"\n                  onClick={() => setShowCode2(!showCode2)}\n                  onMouseDown={() => setShowCode2(!showCode2)}\n                  edge=\"end\"\n                >\n                  {showCode2 ? <Visibility /> : <VisibilityOff />}\n                </IconButton>\n              </InputAdornment>\n            ),\n          }}\n        />\n        <br />\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          disabled={isLoading}\n          fullWidth\n        >\n          Update Password\n        </Button>\n      </ValidatorForm>\n    </div>\n  );\n};\n\nexport default Account;\n"]},"metadata":{},"sourceType":"module"}